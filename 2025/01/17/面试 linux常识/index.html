<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>面试 linux常识 | Tech智汇站</title><meta name="keywords" content="面试"><meta name="author" content="智汇君"><meta name="copyright" content="智汇君"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="面试 linux常识"><meta name="application-name" content="面试 linux常识"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="面试 linux常识"><meta property="og:url" content="http://example.com/2025/01/17/面试 linux常识/index.html"><meta property="og:site_name" content="Tech智汇站"><meta property="og:description" content="linux常识每个脚本开始的 #!&amp;#x2F;bin&amp;#x2F;sh 或 #!&amp;#x2F;bin&amp;#x2F;bash 表示什么意思 ?1#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell  如何调试 bash 脚本使用 -x 选项1234567891011121"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="http://example.com/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg"><meta property="article:author" content="智汇君"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://example.com/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg"><meta name="description" content="linux常识每个脚本开始的 #!&amp;#x2F;bin&amp;#x2F;sh 或 #!&amp;#x2F;bin&amp;#x2F;bash 表示什么意思 ?1#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell  如何调试 bash 脚本使用 -x 选项1234567891011121"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="http://example.com/2025/01/17/%E9%9D%A2%E8%AF%95%20linux%E5%B8%B8%E8%AF%86/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css#fontawesome_animation 如果有就会加载，示例值：https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"与数百名博主无限进步","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: undefined,
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"晚上好👋","list":[{"greeting":"晚安😴","startTime":0,"endTime":5},{"greeting":"早上好鸭👋, 祝你一天好心情！","startTime":6,"endTime":9},{"greeting":"上午好👋, 状态很好，鼓励一下～","startTime":10,"endTime":10},{"greeting":"11点多啦, 在坚持一下就吃饭啦～","startTime":11,"endTime":11},{"greeting":"午安👋, 宝贝","startTime":12,"endTime":14},{"greeting":"🌈充实的一天辛苦啦！","startTime":14,"endTime":18},{"greeting":"19点喽, 奖励一顿丰盛的大餐吧🍔。","startTime":19,"endTime":19},{"greeting":"晚上好👋, 在属于自己的时间好好放松😌~","startTime":20,"endTime":24}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":270},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: 智汇君","link":"链接: ","source":"来源: Tech智汇站","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Tech智汇站',
  title: '面试 linux常识',
  postAI: '',
  pageFillDescription: 'linux常识, 每个脚本开始的 !x2Fbinx2Fsh 或 !x2Fbinx2Fbash 表示什么意思 ?, 如何调试 bash 脚本, 使用 -x 选项, 设置 set 命令, 逐步调试 -v, 使用 trap 命令, 变量, 如何向连接两个字符串 ?, 如何进行两个整数相加 ?  有点特别, ‘ 和  引号有什么区别 ?, 如何只用 echo 命令获取字符串变量的一部分 ?, 如何打印变量的最后 5 个字符 ?, 如何获取变量长度 ?, 如何仅用 echo 命令替换部分字符串？, 数组, shell传递参数, 如何在后台运行脚本 ?, 重定向, gt 和gtgt 输出重定向, lt 输入重定向, 重定向标准输出和标准错误流到 log.txt 文件 ?, 如何让 Shell 就脚本得到来自终端的输入?, read读取控制台输入, 使用管道或重定向, 如果给定字符串 variablex3DUser123321x2Fhomex2Fdir如何只用 echo 命令获取 home_dir ?, 如何从上面的字符串中获取 User ?, 如何列出第二个字母为 a 或 b 的文件？, tr命令, tr 如何从字符串中删除所有空格？, [ $a x3Dx3D $b ] 和 [ $a -eq $b ] 有什么区别, x3D和x3Dx3D, []和[[]]？, 比较操作符, 对整数比较符, 布尔操作符, 聚合表达式, 模式匹配, 正则表达式, 单词分割, 单中括号 [], 双中括号 [[]], 使用建议, [[ $string x3Dx3D abc* ]] 和 [[ $string x3Dx3D abc* ]] 有什么区别, 在 shell 脚本中如何测试文件 ?, 硬链接和软链接, date, 获取系统当前时间, 格式化, 时间戳, 获取指定时间的时间戳, x2Fetcx2Fprofile和x2Fetcx2Fprofile.d, ll|grep hudi, netstat -anp|grep 9083, ls -al, useradd, 用户组 groupadd, chown, chgrp, 权限 chmod, ps -ef|grep runJar, jstat -gcutil PID 1000, ip addr|ifconfig, touch cat more, tail head, echo, history, df, vi, wc, uniq, ps, netstat, jps, top, free, kill, 压缩 解压, which | whereis | find | locate, which, whereis, find, 以名称为条件, 以权限为条件, 以文件类型为条件, 以文件大小为条件, 以归属为条件, 以时间为条件, Shell 文件包含, locate, 文件系统, shell脚本系统学习, shell概述 了解, shell解释器 了解, shell脚本入门, hello world, 多命令处理, shell中的变量, 系统变量, 自定义变量, 定义变量, 撤销变量, 声明静态变量, 变量名定义规则, 局部变量提升为全局变量, 特殊变量, $n, $, $*和$@, $?, $！, $？？, $$, 运算符, 加, 乘, 条件判断, 基本语法, 常用判断条件, 两个整数比较, 按照文件权限进行判断, 按照文件类型进行判断, 判断字符串是否为空, 多条件判断, 流程控制 重点, if判断, case语句, for循环, for, for in $* $@, while循环, until循环, 函数 了解, 系统函数, basename基本语法, dirname基本语法, 自定义函数, shell工具 重点, cut, cut结合| grep, 如何列出以 ab 或 xy 开头的用户名？, sed, 增加, 删除, 替换, -i 修改源文件, 多语句, awk, 获取一个文件每一行的第三个元素 ?, 假如文件中某行第一个元素是 FIND如何获取第二个元素, 如何使用 awk 列出 UID 小于 100 的用户 ?, BEGIN END, -v, awk的内置变量, sort, 企业真实面试题, grep的高级使用, Shell 添加一个新组为class1添加属于这个组的30个用户用户名的形式为stdxx其中xx从01 到30 ？, 获取行首行位几行, ‘ 和  引号之间有什么区别？, 单引号, 双引号, 无引号, 建议常识每个脚本开始的或表示什么意思是一个约定的标记它告诉系统这个脚本需要什么解释器来执行即使用哪一种如何调试脚本使用选项通过在运行脚本时使用选项会在执行每一行命令之前打印该命令这有助于查看脚本的执行流程和变量的值变化设置命令在脚本内部可以使用命令来开启或关闭调试模式会打开调试模式会关闭调试模式例如开启调试模式一些要被调试的命令关闭调试模式逐步调试的选项可以打印出脚本中的每一行命令就像它们从脚本中读取出来一样而不是执行后的结果这有助于了解脚本的流程使用命令变量打印变量只读变量删除变量环境变量你可以将其想象成是一种全局变量对于整个操作系统或进程而言都是可见的环境变量存储了一些配置信息路径和其他重要的数据它们可以被不同的程序和脚本访问和使用如何向连接两个字符串不用花括号也行用加号会把加号一起打出来如何进行两个整数相加有点特别有无花括号都一样和引号有什么区别当我们不希望把变量转换为值的时候使用它会计算所有变量的值并用值代替如何只用命令获取字符串变量的一部分起始位置长度例子会显示如何打印变量的最后个字符前空格如何获取变量长度如何仅用命令替换部分字符串变量模式替换数组输出输出输出传递参数获取位置参数脚本名第一个参数是第二个参数是脚本名脚本名参数个数参数列表参数列表作为单个字符串上一个命令是否执行成功脚本名参数个数参数列表参数列表作为单个字符串上一个命令的退出状态如何在后台运行脚本重定向和输出重定向重定向输出流到文件或另一个流覆盖追加输入重定向输入重定向统计行数单词数字符数其中的输入来自统计分隔符之间的内容重定向标准输出和标准错误流到文件在脚本文件中添加命令的作用是将脚本的标准输出文件描述符为这里省略了完整应该是和标准错误输出文件描述符为都重定向到同一个文件在这个例子中是表示绑定表示和绑定中这意味着无论脚本在运行时输出到控制台的信息还是错误信息都会被写入到文件中而不是显示在终端或控制台上的输入输出有三类默认的标准输入指的是键盘默认的标准输出与标准错误输出是屏幕或者是终端系统为这三个文件分配了文件标识符分别为代码代码代码举个例子将前面执行结果的标准输出流写入文件省略了全句为错误输出用如用表示类似和绑定到一起输出到一个文件用表示绑定在一起但注意与是不同的是将命令所产生的标准输出信息和错误的输出信息送到中但这样会导致会被打开两次所以和会互相覆盖而将直接送向只被打开一次实际相当于合并到后一起输出到中从效率上前一条命令的效率要比后面一条的命令效率要低所以在编写脚本的时候较多的时候我们会用这样的写法是一个垃圾箱是一个无底洞表示的含义为不显示以上两个命令表示的含义是相同的如何让就脚本得到来自终端的输入读取控制台输入选项参数选项指定读取值时的提示符指定读取值时等待的时间秒使得输入对用户不可见这在读取密码时特别有用参数变量指定读取值的变量名使用管道或重定向你还可以通过管道或输入重定向来传递数据给脚本这允许你将其他命令的输出作为输入传递给脚本示例如果给定字符串如何只用命令获取或其中符号用于从变量值中删除最短匹配指定模式的部分具体来说会从变量的值中删除最短匹配的部分并返回剩余的部分表示从变量值的开头开始删除最长匹配的部分表示从变量值的开头开始删除是要匹配的模式这里是一个通配符匹配任意长度的任意字符包括零个字符但在这个上下文中由于它是被冒号分隔的所以实际上它至少会匹配到一个冒号之前的所有内容因此匹配从变量值开头到第三个冒号包括这三个冒号及其之间的所有内容为止的字符串如何从上面的字符串中获取或在脚本中和使用了参数扩展功能的不同模式它们都是用于从变量值的末尾开始删除内容但删除的方式略有不同这个表达式尝试从变量的值中删除最短匹配的部分从末尾开始匹配然而由于是一个贪婪匹配符它会尽可能多地匹配字符但这里的模式意味着它期望至少有三个冒号分隔的字段这在大多数情况下可能不是你想要的效果特别是当字符串的末尾没有足够多的冒号来匹配这个模式时实际上如果你的意图是从末尾开始删除直到倒数第四个冒号包括冒号之前的所有内容这个表达式可能无法按预期工作因为的参数扩展并不直接支持这种反向的具有固定数量分隔符的匹配不过如果字符串恰好符合这种模式并且你只是想移除末尾的特定部分它可能会起作用尽管这通常不是它的用途但在这个例子中由于并不以结尾所以这个表达式实际上不会删除任何内容这个表达式会从变量的值中删除最长匹配的部分从末尾开始匹配表示删除最长匹配而匹配一个冒号后跟任意数量的字符直到字符串的末尾因此这个表达式会删除从最后一个冒号开始到字符串末尾的所有内容如果那么的结果将是因为它删除了最后一个冒号及其之后的所有内容总结通常不是你想要用于从末尾删除内容的表达式除非你的用例非常特定且字符串格式严格匹配用于从字符串末尾删除最后一个冒号及其之后的所有内容如何列出第二个字母为或的文件命令以下是命令的一些常用选项删除中所有的字符压缩中所有重复的字符将小写字母转换为大写字母删除字符串中的所有数字将字符串中的所有空格替换为下划线将字符串中的所有数字替换为字母压缩字符串中的连续空格如何从字符串中删除所有空格和有什么区别可以用于字符串比较应该用于数字测试和和之间有什么区别我们用来给变量赋值我们用来比较字符串和比较操作符在中可以使用比较操作符如等如下上述命令中我们使用符号来检查是否小于命令是可以运行但如果使用时命令会报错在这种情况下会认为是一个重定向符因此我们需要使用转义符进行转义现在使用也可以执行成功类似的对于符号也需要使用转义符进行转义对整数比较符对整数比较符和和都可以正常比较如下布尔操作符在中我们可以使用逻辑运算和如下但是在中我们必须使用分别代替和如下聚合表达式在中我们可以使用括号来聚合多个表达式的使用可以让脚本更具可读性如下上述命令中我们使用了对表达式做了聚合然后将其作为第个表达式参与到运算中最后结果为验证为真但如果在中使用则会报语法错误如下上述中我们使用来代替但还是得到了一个报错在这里我们必须使用转义符对括号进行转义并且前后要保留一个空格如下通过上面的改造命令就可以成功执行模式匹配在中我们还可以使用通配符进行模式匹配如下正则表达式正则表达式是另一种字符串模式匹配的方式在中我们可以使用正则表达式来做模式匹配的工作那如果在中使用正则表达式呢我们得到了一个错误所以得到结论在中不能使用正则表达式单词分割在中不会对值中的单词进行分割比如变量的值是一个包含空格的字符串不会将其分割成多个单词上面命令中我们用一个不存在的文件作为示例检查文件是否存在但是值包含字符串在中我们可以直接使用变量那在又如何上面命令中我们得到了一个错误如果希望在也能使用带空格的字符串需要加上双引号如下单中括号单中括号是内置命令的另一种形式它主要用于基本的字符串和数值比较以下是一些关键点数值比较支持小于大于等符号例如大于字符串比较仅支持和两种比较方式如果需要使用和则需要进行转义例如小于文件测试可以用于测试文件属性如存在性可读性双中括号双中括号是的关键字提供了更强大的功能和更灵活的语法以下是一些关键点逻辑运算支持和等逻辑运算符例如大于且小于模式匹配支持字符串的模式匹配可以使用操作符进行正则表达式匹配例如字符串是小写字母不进行单词拆分和文件名扩展在中变量不会进行单词拆分和文件名扩展但会进行参数扩展和命令替换使用建议数值比较使用单中括号字符串比较和模式匹配使用双中括号因为它提供了更强大的功能和更灵活的语法和有什么区别将检查字符串是否以字母开头将检查字符串是否完全等于在脚本中如何测试文件命令可以用来测试文件基础用法如下表格用法文件名如果文件存在并且是目录返回文件名如果文件存在返回文件名如果文件存在并且是普通文件返回文件名如果文件存在并可读返回文件名如果文件存在并且不为空返回文件名如果文件存在并可写返回文件名如果文件存在并可执行返回硬链接和软链接软连接可以对文件或者目录创建软链接标文件被移动重命名或删除软链接将会失效软连接可以跨越不同的文件系统具有不同的目标文件或目录链接名软连接为目录时软连接打印的是当前软链接的位置打印的是软连接对应目录的位置删除软链接名字不要加因为如果软链接对应的是目录时这种方法删除的不是软链接而是目录下的所有硬链接可以对文件创建硬链接不能跨文件系统一个文件可以有多个硬链接修改一个文件的内容另外硬链接文件内容也会改变删除其中一个另外的文件还可以使用具有相同的或者如果是文件会显示该文件硬链接数目标文件链接名可以看当前系统包含的文件系统类别和容量获取系统当前时间命令默认获取系统当前时间格式化命令支持对时间进行格式化双引号是因为第三个空格后面要有空格注意后面的这些参数中间如果没有空格可以省略双引号时间戳时间戳这里面的表示获取自以来的秒数虽然命令没有直接支持获取毫秒数但是从秒换算为毫秒也很简单啊最直接粗暴的方式就是在秒数后面加个获取指定时间的时间戳命令提供的有这个参数可以指定时间获取昨天的日期这个需求也需要使用参数实现再对返回的结果进行格式化只获取年月日和文件登录或者切换用户都会读这个文件全局的目录里面有一些脚本文件会循环执行这些脚本可以创建这个文件在这里面配置环境变量目录下文件多的情况下用这个快速过滤查看监听端口开头的路径和文件不会显示这是隐藏文件显示隐藏文件显示的很详细为用户添加用户组用户组用户组添加命令可以认为是的缩写主要用于修改文件或目录的所有者除此之外这个命令也可以修改文件或目录的所属组当只需要修改所有者时可使用如下命令的基本格式所有者文件或目录注意大写选项表示连同子目录中的所有文件都更改所有者如果需要同时更改所有者和所属组命令的基本格式为所有者所属组文件或目录修改文件的拥有者功能修改文件的拥有者格式参数用户名文件名同时修改所有者和所属组修改文件的所属组功能修改文件或目录的所属组格式参数用户组名文件名常用选项递归修改文件或目录的所属组实例权限讲得好超级用户的命令提示符是普通用户的命令提示符是开头目录文件普通文件文本源代码可执行程序第三方动静态库软链接类似的快捷方式块设备文件例如硬盘光驱等管道文件字符设备文件例如屏幕等串口设备套接口文件后面的分三个三个来看所有者权限用户组权限其他用户组权限数字第一个位置所有者第二个位置用户组功能设置文件的访问权限格式参数权限文件名常用选项递归修改目录文件的权限说明只有文件的拥有者和才可以改变文件的权限法一用户表示符权限字符向权限范围增加权限代号所表示的权限向权限范围取消权限代号所表示的权限向权限范围赋予权限代号所表示的权限用户符号拥有者拥有者同组用其它用户所有用户法二使用三位八进制数字是的服务通过来看看这个进程的信息每一秒钟刷新一次如果次数增长过快说明内存不够用创建文件显示时输出行号不一次显示全文件动态显示文件等同于根据文件名进行追踪并保持重试即该文件被删除或改名后如果再次创建相同的文件名会继续追踪文件文件后几行如何获取文本文件的第行获取文件的最后第一行将内容输出到设备类似里面的常见用法不解析转义字符解析转义字符保留了最近执行的命令记录默认可以保留历史清单从开始编号到最大值常见用法显示最近条命令清除所有的历史记录保存历史记录到文本磁盘使用情况查找字符串对文件中字符串的快速查找里的命令模式查找内容有多个结果是代表下一个查询结果查找某一行内容已经知道了需要修改的内容在文件的第几行里的命令模式冒号具体行号使编辑里每行具有行号冒号复制粘贴使用命令打开把光标移动到希望复制的那一行内容上面然后连按这样就把这一行内容复制上了然后按就会把刚才复制的内容粘贴到下一行按一次粘贴一行一直按到你喊停为止最后按和输入保存退出即可多行赋值命令行模式下输入复制第行到第行之间的内容到第行后面有时候不想费劲看多少行或复制大量行时可以使用标签来替代光标移到起始行输入光标移到结束行输入光标移到粘贴行输入然后把改成就成剪切了要删除多行的话可以用快速删除到想要删除的那一行内容上面连按就可以删除当前行的内容还有一个大招如果想要清空当前行下的所有内容先连按然后再连按这样就可以清空光标所在行下的所有内容了统计单词数默认空格为分隔符行数检查重复的行列什么参数都不带的出现一次也是重复一次参数这个参数表示在输出行的前面加上数据在文件中重复出现的次数参数表示返回文件中不重复的行显示进程信息一个典型应用就是在后面跟和参数显示系统内的所有进程命令以后就可以把这两个命令组合到一块使用这是一个比较常用的操作过滤出系统内的进程信息注意这里面返回的这一行信息表示是这个命令本身显示出这个信息其实说明没有找到进程信息下面返回的这一行表示是进程本身这样容易给我们造成错觉想把它去掉怎么去掉呢很简单使用加上参数再做一次过滤即可表示忽略包含指定字符串的数据也是显示进程相关信息的只不过可以比命令额外显示端口相关的信息但是这个命令默认是没有安装的最方便的方式就是使用来在线安装的常见用法是这里会显示很多的进程和端口信息也需要和命令结合使用假设我们想看一下服务的端口使用情况服务的端口是如果服务开启了那么这个端口就会被监听类似命令不同的是是用来显示所有进程信息的而只显示进程准确的说是显示当前用户已启动的进程信息信息包括进程号和简短的进程注意是提供的命令只有在安装配置好环境之后才能使用可以显示得更全面些主要作用在于动态显示系统消耗资源最多的进程信息包含进程内存占用占用等和命令作用基本相同唯一的区别是命令能够动态显示进程信息注意这里的使用情况是总体的使用情况如果是多核想查看具体每个的使用情况的话可以在监控模式中按键盘上的就可以查看每一个的情况了按可以退出此监控模式查看内存使用情况查看内存和交换空间的使用情况常见用法显示内存单位为根据值的大小显示易于识别的单位可以使用前面学习的命令找到程序对应的然后使用命令杀掉这个进程进程被杀掉了对应的程序也就停止了如果遇到有一些进程使用命令杀不掉那就可以使用这样可以实现强制杀进程压缩解压常见用法压缩和解压参数是否同时具有的属性亦即是否需要用压缩创建一个压缩文件的参数指令的意思解开一个压缩文件的参数指令压缩的过程中显示文件使用档案名字这个参数是最后一个参数后面只能接档案名注意特别注意在参数的下达中仅能存在一个不可同时存在压缩打包及压缩方式将目录的内容打包压缩为解压解压包命令的作用是在变量指定的路径中搜索某个系统命令的位置并且返回第一个搜索结果也就是说使用命令就可以看到某个系统命令是否存在以及执行的到底是哪一个位置的命令命令用于搜索程序的二进制文件源代码文件或帮助文档例如如果上述三者有则三者都会显示只查看的帮助手册只查找的二进制文件查找头文件和帮助手册以名称为条件是最常见和最强大的查找命令你可以用它找到任何你想找的文件的使用格式如下指定目录指定条件指定动作指定目录所要搜索的目录及其所有子目录默认为当前目录指定条件所要搜索的文件的特征指定动作对搜索结果进行特定的处理的使用实例搜索当前目录含子目录以下同中所有文件名以开头的文件搜索当前目录中所有文件名以开头的文件并显示它们的详细信息搜索当前目录中所有过去分钟中更新过的普通文件以权限为条件有时候需要查找特定权限的文件可以使用参数例如查找当前目录下权限为的文件以文件类型为条件涉及参数例如要查找当前目录下的符号链接文件月主要类型有普通文件目录块设备文件字符设备文件符号链接套接字管道文件以文件大小为条件涉及参数例如查找当前目录下小于的文件查找当前目录下大于的文件常用单位有千字节兆字节吉字节字节块一般为字节字大小两个字节以归属为条件涉及参数等例如查找当前目录下用户的文件查找当前目录下用户的被删除的文件类似的用法只不过条件是用户组以时间为条件涉及参数等例如查找天前更改过的文件查找天内更改过的文件查找今天更改过的文件查找比修改时间更新的文件查找比访问时间更新的文件查找分钟之前访问过的文件注最后访问时间最后修改时间最后修改时间这里包括属性和权限文件包含可以将一些通用的功能放在单独的脚本文件中然后在需要的地方包含它们以提高代码的模块化和可重用性这是脚本的内容这是脚本这是脚本的内容这是脚本现在你可以创建一个主脚本将这两个文件包含进来主脚本包含脚本脚本或者使用操作符脚本包含脚本脚本主脚本的内容这是主脚本运行脚本和脚本中的命令命令其实是的另一种写法但是要比后者快得多原因在于它不搜索具体目录而是搜索一个数据库这个数据库中含有本地所有文件信息系统自动创建这个数据库并且每天自动更新一次所以使用命令查不到最新变动过的文件为了避免这种情况可以在使用之前先使用命令手动更新数据库命令的使用实例搜索目录下所有以开头的文件搜索用户主目录下所有以开头的文件搜索用户主目录下所有以开头的文件并且忽略大小写文件系统小容量盘第二扩展文件系统第三扩展文件系统引入日志第四扩展文件系统新版默认文件系统类型脚本系统学习概述了解大数据程序员为什么要学习呢需要看懂运维人员编写的程序偶尔会编写一些简单程序来管理集群提高开发效率是一个命令行解释器它接收应用程序用户命令然后调用操作系统内核还是一个功能相当强大的编程语言易编写易调试炅活性强是它的一个强劲对手比它可读性好发布时间晚结合优点去除缺点解释器了解查看支持哪些解释器常用的是上面两种查看默认使用的哪种解释器查看和解释器的关系解释器最终调用的还是脚本入门注意第一种执行方法本质是解析器帮你执行脚本所以脚本本身不需要执行权限第二种执行方法本质是脚本需要自己执行所以需要执行权限多命令处理在日录下创建一个在文件中增加中的变量系统变量自定义变量定义变量变量值等号两边不能有空格撤销变量声明静态变量不能撤销变量名定义规则变量名称可以由字母数字和下划线组成但是不能以数字开头环境变量名建议大写等号两侧不能有空格在中变量默认类型都是字符串类型无法直接进行数值运算变量的值如果有空格需要使用双引号或单引号括起来报错局部变量提升为全局变量可把变量提升为全局环境变量可供其他程序使用如空特殊变量个参数用个参数用功能描述获取所有输入参数个数常用于循环和功能描述这个变量代表命令行中所有的参数把所有的参数看成一个整体功能描述这个变量也代表命令行中所有的参数不过把每个参数区分对待功能描述最后一次执行的命令的返回状态如果这个变量的值为证明上一个命令正确执行如果这个变量的值为非具体是哪个数由命令自己来决定则证明上一个命令执行不正确了最近的后台命令最近的前台退出状态如何打印当前的运算符运算式或运算式加减乘除取余注意运算符间要有空格加乘表示执行里面的东西条件判断基本语法注意前后要有空格注意条件非空即为返回返回常用判断条件两个整数比较比较运算符左右也要有空格字符串比较小于小于等于大于大于等于不等于比较运算符左右也要有空格请输入一个数字输入的数字是零输入的数字是正数输入的数字是负数按照文件权限进行判断有读的权限有写的权限有执行的权限按照文件类型进行判断文件存在并且是一个常规的文件文件存在文件存在并是一个目录文件检查文件是否不为空即文件大小是否大于零如何检查文件系统中是否存在某个文件判断字符串是否为空字符串检查字符串是否非空字符串检查字符串是否为空姓名是多条件判断表示前一条命令执行成功时才执行后一条命令表示上一条命令执行失败后才执行下一条命令流程控制重点判断条件判断表达式其他条件注意事项条件判断式括号和条件判断式之间必须有空格后要有空格语句变量名值相当于中的值相当于中的循环初始值循环控制条件变量变化程序变量值值值程序水果使用生成从到的数字序列选项确保序列中的数字被格式化为两位数即和和一起用循环来遍历当前目录下的文件和目录是一个常见的做法循环条件表达式程序在中当你使用命令来执行算术运算时你不需要在变量名前加符号来引用变量的值循环函数了解开发工程师需要重点掌握系统函数基本语法功能描述命令会删掉所有的前缀包括最后一个字符然后将字符串显示出来选项为后缀如果被指定了会将和中的去掉基本语法文件绝对路径功能描述从给定的包含绝对路径的文件名中去除文件名非目录的部分多然后返回剩下的路径目录的部分自定义函数定义一个简单的函数这是一个自定义的函数调用函数定义一个带参数的函数调用函数并传递参数必须在调用函数地方之前先声明函数脚本是逐行运行不会像其它语言样先编译函数返回值只能通过系统变量获得可以显示加返回如果不加将以最后一条命令运行结果作为返回值后跟数值输入参数的值输入参数的值输入参数的值输入参数的值工具重点的工作就是剪具体的说就是在文件中负责剪切数据用的命令从文件的每行剪切字节字符和字段并将这些字节字符和字段输出选项参数说明默认分隔符是制表符分割后取第几列或者几列分隔符只能是单个字符结合切切出这个也是看的我有点懵逼首先切割符必须为单个字符后面空格不规范时我就有点蒙蔽了还有返回的格式不一定一致它这里使用的空格分割避免了麻烦事如何列出以或开头的用户名是一种流编辑器它一次处理一行内容处理时把当前处理的行存储在临时缓冲区中称为模式空间接着用命令处理缓冲区中的内容处理完成后把缓冲区的内容送往屏幕文件内容并没有改变除接着处理下一行这样不断重复直到文件末尾除非你使用重定向存储输出选项参数直接在指令列模式上进行的动作编辑新增的后而可以接字串在下一行出现表示最后一行新增增加的内容在行前表示最后一行删除查找并替换增加原文件没改变此操作会将数据添加到第一行下面也就是第二行的位置此操作会报错行号是从开始的删除参数删除最后一行更加便捷替换代表全局不写只替换第一个一行中匹配的第一次替换一行中匹配的第次替换一行中匹配的第次替换全局替换一行中匹配的第一次替换上述是每一行只要满足要求都会替换我们现在的替换操作都是会匹配文件中的所有行如果我们只想替换指定行中的内容怎么办呢只需要增加参数即可对第二行进行这种操作修改源文件注意了咱们前面所讲的命令的所有操作在执行之后都不会修改源文件中的内容这样只能作为测试如果需要修改源文件的话其实也很简单只需要增加一个参数即可多语句一个强大的文本分析工具把文件逐行的读入以空格为默认分隔符将每行切片切开的部分再进行分析处理选项参数表示在数据中查找的内容就是匹配模式在找到匹配内容时所执行的一系列命令注意只有匹配了的行才会执行没有表达式时表示都执行指定输入文件折分隔符分隔符与有无空格都可以赋值一个用户定义变量取以开头那一行用分隔取第七列搜索文件以关键字开头的所有行并输出该行的第列和第列中间以号分割还有一个特殊的它代表整个文本行的内容如果我们只想对某一列数据进行匹配呢在这里面可以通过来指定具体是哪一列需要把具体的对比逻辑放到小括号里面注意这里如果是不匹配的意思的话需要使用获取一个文件每一行的第三个元素的基本格式这里的是一个可选项一般在这里来指定文件中数据的字段分隔符是具体的处理逻辑表示我们要操作的文件假如文件中某行第一个元素是如何获取第二个元素如何使用列出小于的用户注意在所有数据读取行之前执行在所有数据执行之后执行只显示的第一列和第七列以逗号分割且在所有行前面添加列名在最后一行添加将文件中的用户增加数值并输出这里换成都不行的内置变量文件名已读的记录数浏览记录的域的个数切割后列的个数统计文件名每行的行号每行的列数切割查询中空行所在的行号命令是在里非常有用它将文件进行排序并将排序结果标准输出选项参数依照数值的大小排序以相反的顺序来排序设置排序时所用的分隔字符指定需要排序的列参数指定待排序的文件列表默认根据第一个字符排序企业真实面试题使用命令查询中空行所在的行号问题有文件内容如下张三李四王五使用命令计算第二列的和并输出问题脚本里如何检查一个文件是否存在如果不存在该如何处理问题对文件内数据排序最后输出总和的高级使用要在某个路径下递归查找所有包含特定字符串的文件可以使用命令结合一些选项进行操作是一种强大的文本搜索工具可以在文件中搜索匹配指定模式的字符串当与递归搜索选项结合使用时能够在指定目录及其所有子目录中搜索文件内容或选项告诉递归地查找指定目录下的所有文件忽略大小写仅列出包含匹配项的文件名而不显示匹配行的具体内容显示匹配行及其行号表示忽略包含指定字符串的数据问题请用脚本写出查找当前文件夹下所有的文本文件内容中包含有字符的文件名称常用于查找文件里符合条件的字符串后面跟的这个字符串是可以支持正则表达式的查询中以字母开头的内容这样写也是可以的忽略大小写功能查询出来对应字符串带行号显示出这个信息其实说明没有找到进程信息下面返回的这一行表示是进程本身这样容易给我们造成错觉想把它去掉怎么去掉呢很简单使用加上参数再做一次过滤即可表示忽略包含指定字符串的数据添加一个新组为添加属于这个组的个用户用户名的形式为其中从到要实现这个需求你可以编写一个脚本来首先创建一个名为的新组然后循环添加用户名为到的用户并将这些用户分配到组下面是一个简单的脚本示例演示了如何执行这些操作创建新组循环添加用户到添加用户并将其加入到组用户已创建并添加到组所有用户已成功创建并添加到组这个脚本的关键点如下使用命令创建一个新组使用生成从到的数字序列选项确保序列中的数字被格式化为两位数即对于序列中的每个数字构造用户名其中是当前的数字使用命令添加用户选项表示创建用户的主目录选项表示将用户添加到组打印一条消息确认用户已被创建并添加到组在运行这个脚本之前请确保你有足够的权限来创建用户和组在大多数系统上这意味着你需要以用户身份执行该脚本或使用命令请注意根据你的系统配置和已存在的用户组设置这个脚本可能需要进行适当的调整例如如果组已经存在命令将会失败你可能需要检查组是否存在然后决定是否需要执行添加组的命令获取行首行位几行和引号之间有什么区别使用过程中经常会用双引号或单引号将字符串括起来也可以不使用引号来定义字符串变量无引号单引号双引号因此字符串变量的定义有三种方式分别是双引号单引号和无引号这三种方式有什么区别呢单引号和双引号又有什么区别呢单引号单引号是全引用被单引号括起的内容不管是常量还是变量都不会发生替换也就是说单引号定义字符串所见即所得将单引号内的内容输出看到的是什么就会输出什么输出双引号双引号引用的内容所见非所得如果内容中有命令变量等会先把变量命令解析出结果然后在输出最终内容双引号是部分引用被双引号括起的内容常量还是常量变量则会发生替换替换成变量内容输出无引号不使用引号定义字符串时字符串不能包含空白字符如或需要加引号一般连续的字符串数字路径等可以不加引号如果内容有命令变量等会先把变量命令解析出结果然后再输出最终内容输出可见字符串含有空格时不使用引号括起来将无法正常输出建议字符串常量使用单引号括起来如果字符串含有变量命令等使用双引号括起来不建议不加引号',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-11 17:18:29',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://video-b2g.pages.dev/" title="视频解析"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/视频.png" alt="视频解析"/><span class="back-menu-item-text">视频解析</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://md5-uir.pages.dev/" title="md5值解密"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/MD5.png" alt="md5值解密"/><span class="back-menu-item-text">md5值解密</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://screencheck.pages.dev/#welcome" title="屏幕坏点检查"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/屏幕外观.png" alt="屏幕坏点检查"/><span class="back-menu-item-text">屏幕坏点检查</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://htmleditor-9lo.pages.dev/" title="在线html编辑器"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/html编辑器.png" alt="在线html编辑器"/><span class="back-menu-item-text">在线html编辑器</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://ttyong-github-io.pages.dev/" title="旧博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/博客.png" alt="旧博客"/><span class="back-menu-item-text">旧博客</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Tech智汇站</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="/img/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.jpg" target="_blank"><img class="post-qr-code-img" alt="微信" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.jpg"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpg" target="_blank"><img class="post-qr-code-img" alt="支付宝" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpg"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>1</sup></a><a href="/tags/GitHub/" style="font-size: 1.05rem;">GitHub<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>1</sup></a><a href="/tags/NodeJs/" style="font-size: 1.05rem;">NodeJs<sup>1</sup></a><a href="/tags/git/" style="font-size: 1.05rem;">git<sup>3</sup></a><a href="/tags/github/" style="font-size: 1.05rem;">github<sup>1</sup></a><a href="/tags/idea/" style="font-size: 1.05rem;">idea<sup>1</sup></a><a href="/tags/%E5%85%AC%E8%80%83%E6%9D%A8%E8%80%81%E5%B8%88/" style="font-size: 1.05rem;">公考杨老师<sup>10</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem;">博客<sup>1</sup></a><a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 1.05rem;">大数据<sup>31</sup></a><a href="/tags/%E5%AE%89%E7%9F%A5%E9%B1%BC%E4%B8%BB%E9%A2%98/" style="font-size: 1.05rem;">安知鱼主题<sup>1</sup></a><a href="/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/" style="font-size: 1.05rem;">廖雪峰<sup>15</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">计算机网络<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 1.05rem;">面试<sup>10</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/07/"><span class="card-archive-list-date">七月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">93</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url">面试</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/linux/" itemprop="url">linux</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/linux/%E5%A4%A7%E6%95%B0%E6%8D%AE/" itemprop="url">大数据</a></span></div></div><h1 class="post-title" itemprop="name headline">面试 linux常识</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="post-meta-icon anzhiyufont anzhiyu-icon-calendar-days"></i><span class="post-meta-label">发表于</span><time itemprop="dateCreated datePublished" datetime="2025-01-16T16:48:37.000Z" title="发表于 2025-01-17 00:48:37">2025-01-17</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为重庆"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>重庆</span></div></div></div><article class="post-content" id="article-container" itemscope itemtype="http://example.com/2025/01/17/%E9%9D%A2%E8%AF%95%20linux%E5%B8%B8%E8%AF%86/"><header><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/" itemprop="url">面试</a><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/linux/" itemprop="url">linux</a><a class="post-meta-categories" href="/categories/%E9%9D%A2%E8%AF%95/linux/%E5%A4%A7%E6%95%B0%E6%8D%AE/" itemprop="url">大数据</a><h1 id="CrawlerTitle" itemprop="name headline">面试 linux常识</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">智汇君</span><time itemprop="dateCreated datePublished" datetime="2025-01-16T16:48:37.000Z" title="undefined 2025-01-17 00:48:37">2025-01-17</time></header><h1 id="linux常识"><a href="#linux常识" class="headerlink" title="linux常识"></a>linux常识</h1><h2 id="每个脚本开始的-bin-sh-或-bin-bash-表示什么意思"><a href="#每个脚本开始的-bin-sh-或-bin-bash-表示什么意思" class="headerlink" title="每个脚本开始的 #!&#x2F;bin&#x2F;sh 或 #!&#x2F;bin&#x2F;bash 表示什么意思 ?"></a>每个脚本开始的 #!&#x2F;bin&#x2F;sh 或 #!&#x2F;bin&#x2F;bash 表示什么意思 ?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell</span><br></pre></td></tr></table></figure>

<h2 id="如何调试-bash-脚本"><a href="#如何调试-bash-脚本" class="headerlink" title="如何调试 bash 脚本"></a>如何调试 bash 脚本</h2><h3 id="使用-x-选项"><a href="#使用-x-选项" class="headerlink" title="使用 -x 选项"></a>使用 -x 选项</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">通过在运行脚本时使用 -x 选项，Bash 会在执行每一行命令之前打印该命令。这有助于查看脚本的执行流程和变量的值变化。</span><br><span class="line"></span><br><span class="line">sh -x myshell.sh</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sh -x while.sh </span><br><span class="line">+ s=0</span><br><span class="line">+ i=1</span><br><span class="line">+ &#x27;[&#x27; 1 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=1</span><br><span class="line">+ i=2</span><br><span class="line">+ &#x27;[&#x27; 2 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=3</span><br><span class="line">+ i=3</span><br><span class="line">+ &#x27;[&#x27; 3 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=6</span><br><span class="line">+ i=4</span><br><span class="line">+ &#x27;[&#x27; 4 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=10</span><br><span class="line">+ i=5</span><br><span class="line">+ &#x27;[&#x27; 5 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=15</span><br><span class="line">+ i=6</span><br><span class="line">+ &#x27;[&#x27; 6 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=21</span><br><span class="line">+ i=7</span><br><span class="line">+ &#x27;[&#x27; 7 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=28</span><br><span class="line">+ i=8</span><br><span class="line">+ &#x27;[&#x27; 8 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=36</span><br><span class="line">+ i=9</span><br><span class="line">+ &#x27;[&#x27; 9 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=45</span><br><span class="line">+ i=10</span><br><span class="line">+ &#x27;[&#x27; 10 -le 100 &#x27;]&#x27;</span><br><span class="line">+ s=55</span><br><span class="line">+ i=11</span><br></pre></td></tr></table></figure>

<h3 id="设置-set-命令"><a href="#设置-set-命令" class="headerlink" title="设置 set 命令"></a>设置 set 命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在脚本内部，可以使用 set 命令来开启或关闭调试模式。set -x 会打开调试模式，set +x 会关闭调试模式。</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"># 开启调试模式</span><br><span class="line">set -x</span><br><span class="line"># 一些要被调试的命令</span><br><span class="line">echo &quot;Debugging&quot;</span><br><span class="line"># 关闭调试模式</span><br><span class="line">set +x</span><br></pre></td></tr></table></figure>

<h3 id="逐步调试-v"><a href="#逐步调试-v" class="headerlink" title="逐步调试 -v"></a>逐步调试 -v</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Bash 的 -v 选项可以打印出脚本中的每一行命令，就像它们从脚本中读取出来一样，而不是执行后的结果。这有助于了解脚本的流程。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sh -v while.sh  </span><br><span class="line">#!/bin/bash</span><br><span class="line">s=0</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">do</span><br><span class="line">        s=$[$s + $i]</span><br><span class="line">        i=$[$i + 1]</span><br><span class="line">done</span><br><span class="line">echo $s</span><br><span class="line">5050</span><br></pre></td></tr></table></figure>

<h3 id="使用-trap-命令"><a href="#使用-trap-命令" class="headerlink" title="使用 trap 命令"></a>使用 trap 命令</h3><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">打印变量</span><br><span class="line"></span><br><span class="line">A=&#x27;A&#x27;</span><br><span class="line">echo &quot;$A&quot;</span><br><span class="line">echo &quot;$&#123;A&#125;&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">只读变量 readonly</span><br><span class="line"></span><br><span class="line">[root@bigdata01 ~]# readonly age=5</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 ~]# age=8</span><br><span class="line">-bash: age: readonly variable</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">删除变量 unset</span><br><span class="line"></span><br><span class="line">[root@bigdata01 ~]# unset A</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 ~]# echo &quot;$&#123;A&#125;&quot;   </span><br><span class="line"></span><br><span class="line">[root@bigdata01 ~]# </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">环境变量</span><br><span class="line"></span><br><span class="line">你可以将其想象成是一种全局变量，对于整个操作系统或进程而言都是可见的。环境变量存储了一些配置信息、路径和其他重要的数据，它们可以被不同的程序和脚本访问和使用。</span><br><span class="line"></span><br><span class="line">export MY_VARIABLE=&quot;Hello&quot;</span><br></pre></td></tr></table></figure>

<h3 id="如何向连接两个字符串"><a href="#如何向连接两个字符串" class="headerlink" title="如何向连接两个字符串 ?"></a>如何向连接两个字符串 ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">V1=&quot;Hello&quot;</span><br><span class="line">V2=&quot;World&quot;</span><br><span class="line">V3=$&#123;V1&#125;$&#123;V2&#125; 不用花括号也行</span><br><span class="line">echo $V3</span><br><span class="line"></span><br><span class="line">用加号会把加号一起打出来</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">greeting=&quot;Hello&quot;</span><br><span class="line">name=&quot;Alice&quot;</span><br><span class="line">message=$greeting&quot; &quot;$name</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata01 ~]# A=&#x27;A&#x27;</span><br><span class="line">[root@bigdata01 ~]# B=&#x27;B&#x27;</span><br><span class="line">[root@bigdata01 ~]# echo $A$B</span><br><span class="line">AB</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">message=&quot;$&#123;greeting&#125; $&#123;name&#125;&quot;</span><br></pre></td></tr></table></figure>

<h3 id="如何进行两个整数相加-有点特别"><a href="#如何进行两个整数相加-有点特别" class="headerlink" title="如何进行两个整数相加 ?  有点特别"></a>如何进行两个整数相加 ?  有点特别</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">linux:~ # A=1</span><br><span class="line">linux:~ # B=2</span><br><span class="line">linux:~ # C=$(($A+$B))</span><br><span class="line">linux:~ # echo $C</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">linux:~ # A=1</span><br><span class="line">linux:~ # B=2</span><br><span class="line">linux:~ # C=$[$A + $B]</span><br><span class="line">linux:~ # echo $C</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">linux:~ # A=1</span><br><span class="line">linux:~ # B=2</span><br><span class="line">linux:~ # C=`expr $A + $B`</span><br><span class="line">linux:~ # echo $C</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">linux:~ # A=1</span><br><span class="line">linux:~ # B=2</span><br><span class="line">linux:~ # let C=$A+$B  有无花括号都一样</span><br><span class="line">linux:~ # echo $C</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="‘-和-“-引号有什么区别"><a href="#‘-和-“-引号有什么区别" class="headerlink" title="‘ 和 “ 引号有什么区别 ?"></a>‘ 和 “ 引号有什么区别 ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x27; - 当我们不希望把变量转换为值的时候使用它。</span><br><span class="line">&quot; - 会计算所有变量的值并用值代替。</span><br><span class="line"></span><br><span class="line">echo $name</span><br><span class="line">echo &quot;My name is $name&quot;</span><br></pre></td></tr></table></figure>

<h3 id="如何只用-echo-命令获取字符串变量的一部分"><a href="#如何只用-echo-命令获取字符串变量的一部分" class="headerlink" title="如何只用 echo 命令获取字符串变量的一部分 ?"></a>如何只用 echo 命令获取字符串变量的一部分 ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;variable:x:y&#125;</span><br><span class="line"></span><br><span class="line">x - 起始位置</span><br><span class="line">y - 长度</span><br><span class="line"></span><br><span class="line">例子：</span><br><span class="line">variable=&quot;My name is Petras, and I am developer.&quot;</span><br><span class="line">echo $&#123;variable:11:6&#125; # 会显示 Petras</span><br></pre></td></tr></table></figure>

<h3 id="如何打印变量的最后-5-个字符"><a href="#如何打印变量的最后-5-个字符" class="headerlink" title="如何打印变量的最后 5 个字符 ?"></a>如何打印变量的最后 5 个字符 ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;variable:-5&#125; -前空格</span><br></pre></td></tr></table></figure>

<h3 id="如何获取变量长度"><a href="#如何获取变量长度" class="headerlink" title="如何获取变量长度 ?"></a>如何获取变量长度 ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$&#123;#variable&#125;</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# echo $&#123;#a&#125;</span><br><span class="line">7</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata02 myshells]# echo $a</span><br><span class="line">kjdjlfd</span><br></pre></td></tr></table></figure>

<h3 id="如何仅用-echo-命令替换部分字符串？"><a href="#如何仅用-echo-命令替换部分字符串？" class="headerlink" title="如何仅用 echo 命令替换部分字符串？"></a>如何仅用 echo 命令替换部分字符串？</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;变量//模式/替换&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fruits=(&quot;apple&quot; &quot;banana&quot; &quot;cherry&quot;)</span><br><span class="line"></span><br><span class="line">echo $&#123;fruits[0]&#125;  # 输出：apple</span><br><span class="line">echo $&#123;fruits[1]&#125;  # 输出：banana</span><br><span class="line">echo $&#123;fruits[2]&#125;  # 输出：cherry</span><br></pre></td></tr></table></figure>

<h2 id="shell传递参数"><a href="#shell传递参数" class="headerlink" title="shell传递参数"></a>shell传递参数</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">获取位置参数</span><br><span class="line"></span><br><span class="line"># 脚本名：myscript.sh</span><br><span class="line">echo &quot;第一个参数是: $1&quot;</span><br><span class="line">echo &quot;第二个参数是: $2&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 脚本名：special.sh</span><br><span class="line">echo &quot;脚本名：$0&quot;</span><br><span class="line">echo &quot;参数个数：$#&quot;</span><br><span class="line">echo &quot;参数列表：$@&quot;</span><br><span class="line">echo &quot;参数列表（作为单个字符串）：$*&quot;</span><br><span class="line">echo &quot;上一个命令是否执行成功：$?&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">./special.sh arg1 arg2 arg3</span><br><span class="line"></span><br><span class="line">脚本名：./special.sh</span><br><span class="line">参数个数：3</span><br><span class="line">参数列表：arg1 arg2 arg3</span><br><span class="line">参数列表（作为单个字符串）：arg1 arg2 arg3</span><br><span class="line">上一个命令的退出状态：0</span><br></pre></td></tr></table></figure>

<h2 id="如何在后台运行脚本"><a href="#如何在后台运行脚本" class="headerlink" title="如何在后台运行脚本 ?"></a>如何在后台运行脚本 ?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup command&amp;</span><br></pre></td></tr></table></figure>

<h2 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h2><h3 id="和-输出重定向"><a href="#和-输出重定向" class="headerlink" title="&gt; 和&gt;&gt; 输出重定向"></a>&gt; 和&gt;&gt; 输出重定向</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">重定向输出流到文件或另一个流。</span><br><span class="line"></span><br><span class="line">&gt;覆盖</span><br><span class="line">&gt;&gt;追加</span><br></pre></td></tr></table></figure>
<h3 id="输入重定向"><a href="#输入重定向" class="headerlink" title="&lt; 输入重定向"></a>&lt; 输入重定向</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">输入重定向</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# wc&lt;/etc/inittab</span><br><span class="line">53 229 1666</span><br><span class="line"></span><br><span class="line">wc统计行数，单词数， 字符数</span><br><span class="line"></span><br><span class="line">其中wc的输入来自 /etc/inittab</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# wc &lt;&lt;aa</span><br><span class="line">&gt; 1</span><br><span class="line">&gt; 11</span><br><span class="line">&gt; 111</span><br><span class="line">&gt; aa</span><br><span class="line">3 3 9</span><br><span class="line"></span><br><span class="line">wc统计分隔符aa之间的内容。</span><br></pre></td></tr></table></figure>

<h3 id="重定向标准输出和标准错误流到-log-txt-文件"><a href="#重定向标准输出和标准错误流到-log-txt-文件" class="headerlink" title="重定向标准输出和标准错误流到 log.txt 文件 ?"></a>重定向标准输出和标准错误流到 log.txt 文件 ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在脚本文件中添加 exec &gt;log.txt 2&gt;&amp;1 命令的作用是将脚本的标准输出（stdout，文件描述符为1，这里省略了完整应该是 exec 1&gt;log.txt 2&gt;&amp;1）和标准错误输出（stderr，文件描述符为2）都重定向到同一个文件（在这个例子中是log.txt $表示绑定 &amp;1表示和1绑定）中。这意味着，无论脚本在运行时输出到控制台的信息还是错误信息，都会被写入到log.txt文件中，而不是显示在终端或控制台上。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Linux的IO输入输出有三类</span><br><span class="line">默认的标准输入指的是键盘，默认的标准输出与标准错误输出是屏幕或者是终端。</span><br><span class="line">系统为这三个文件分配了文件标识符fd(file descripter).分别为0,1,2</span><br><span class="line"></span><br><span class="line">Standard Input 代码 0</span><br><span class="line">Standard Output 代码 1</span><br><span class="line">Standard Error 代码 2</span><br><span class="line"></span><br><span class="line">举个例子：ls test.sh test1.sh &gt;success.txt 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">将前面执行结果的标准输出流写入success.txt文件，省略了1，全句为：ls test.sh test1.sh 1&gt;success.txt 2&gt;&amp;1。</span><br><span class="line"></span><br><span class="line">错误输出用2，如2&gt;error.txt。用&amp;1表示类似1，和1绑定到一起，输出到一个文件，用&amp;表示绑定在一起。</span><br><span class="line"></span><br><span class="line">但注意</span><br><span class="line">command &gt; file 2&gt;file 与command &gt; file 2&gt;&amp;1 是不同的：</span><br><span class="line"></span><br><span class="line">command &gt; file 2&gt;file ：是将命令所产生的标准输出信息stdout和错误的输出信息stderr送到file中，但这样会导致file会被打开两次，所以stdout和stderr会互相覆盖。</span><br><span class="line">而command &gt;file 2&gt;&amp;1：将stdout直接送向file，file只被打开一次。实际相当于stderr合并到stdout后一起输出到file中。</span><br><span class="line"></span><br><span class="line">从IO效率上,前一条命令的效率要比后面一条的命令效率要低,所以在编写shell脚本的时候,较多的时候我们会用command &gt; file 2&gt;&amp;1 这样的写法.</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ls 1&gt;/dev/null 2&gt;/dev/null</span><br><span class="line">ls &gt;/dev/null 2&gt;&amp;1</span><br><span class="line"></span><br><span class="line">/dev/null是一个垃圾箱，是一个无底洞，表示的含义为不显示。</span><br><span class="line">以上两个命令表示的含义是相同的。</span><br></pre></td></tr></table></figure>

<h2 id="如何让-Shell-就脚本得到来自终端的输入"><a href="#如何让-Shell-就脚本得到来自终端的输入" class="headerlink" title="如何让 Shell 就脚本得到来自终端的输入?"></a>如何让 Shell 就脚本得到来自终端的输入?</h2><h3 id="read读取控制台输入"><a href="#read读取控制台输入" class="headerlink" title="read读取控制台输入"></a>read读取控制台输入</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">read(选项)(参数)</span><br><span class="line">选项:</span><br><span class="line">	-p:指定读取值时的提示符;</span><br><span class="line">	-t:指定读取值时等待的时间(秒)</span><br><span class="line">	-s 使得输入对用户不可见，这在读取密码时特别有用。</span><br><span class="line">参数:</span><br><span class="line">	变量:指定读取值的变量名</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi read.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">read -t 7 -p &quot;input your name:&quot; NAME</span><br><span class="line">echo $NAME</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# sh read.sh </span><br><span class="line">input your name:</span><br><span class="line">[root@bigdata02 myshells]# sh read.sh </span><br><span class="line">input your name:tianyong</span><br><span class="line">tianyong</span><br></pre></td></tr></table></figure>

<h3 id="使用管道或重定向"><a href="#使用管道或重定向" class="headerlink" title="使用管道或重定向"></a>使用管道或重定向</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">你还可以通过管道（|）或输入重定向（&lt;）来传递数据给 Shell 脚本，这允许你将其他命令的输出作为输入传递给脚本。</span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line"></span><br><span class="line">echo &quot;John&quot; | ./welcome_script.sh</span><br></pre></td></tr></table></figure>

<h2 id="如果给定字符串-variable-”User-123-321-home-dir”，如何只用-echo-命令获取-home-dir"><a href="#如果给定字符串-variable-”User-123-321-home-dir”，如何只用-echo-命令获取-home-dir" class="headerlink" title="如果给定字符串 variable&#x3D;”User:123:321:&#x2F;home&#x2F;dir”，如何只用 echo 命令获取 home_dir ?"></a>如果给定字符串 variable&#x3D;”User:123:321:&#x2F;home&#x2F;dir”，如何只用 echo 命令获取 home_dir ?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">variable=&quot;User:123:321:/home/dir&quot;</span><br><span class="line">echo $&#123;variable#*:*:*:&#125;</span><br><span class="line">或</span><br><span class="line">echo $&#123;variable##*:&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">其中 # 符号用于从变量值中删除最短匹配指定模式的部分。具体来说，$&#123;variable#pattern&#125; 会从变量 variable 的值中删除最短匹配 pattern 的部分，并返回剩余的部分</span><br><span class="line"></span><br><span class="line">## 表示从变量值的开头开始删除最长匹配的部分。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 表示从变量值的开头开始删除。</span><br><span class="line">*:*:*: 是要匹配的模式，这里 * 是一个通配符，匹配任意长度的任意字符（包括零个字符，但在这个上下文中，由于它是被冒号分隔的，所以实际上它至少会匹配到一个冒号之前的所有内容）。因此，*:*:*: 匹配从变量值开头到第三个冒号（包括这三个冒号及其之间的所有内容）为止的字符串。</span><br></pre></td></tr></table></figure>

<h3 id="如何从上面的字符串中获取-“User”"><a href="#如何从上面的字符串中获取-“User”" class="headerlink" title="如何从上面的字符串中获取 “User” ?"></a>如何从上面的字符串中获取 “User” ?</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;variable%:*:*:*&#125;</span><br><span class="line">或</span><br><span class="line">echo $&#123;variable%%:*&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">在 Bash 脚本中，$&#123;variable%:*:*:*&#125; 和 $&#123;variable%%:*&#125; 使用了参数扩展（Parameter Expansion）功能的不同模式，它们都是用于从变量值的末尾开始删除内容，但删除的方式略有不同。</span><br><span class="line"></span><br><span class="line">$&#123;variable%:*:*:*&#125;</span><br><span class="line">这个表达式尝试从变量 variable 的值中删除最短匹配 :*:*:* 的部分（从末尾开始匹配）。然而，由于 * 是一个贪婪匹配符，它会尽可能多地匹配字符，但这里的模式 :*:*:* 意味着它期望至少有三个冒号分隔的字段，这在大多数情况下可能不是你想要的效果，特别是当字符串的末尾没有足够多的冒号来匹配这个模式时。</span><br><span class="line"></span><br><span class="line">实际上，如果你的意图是从末尾开始删除直到倒数第四个冒号（包括冒号）之前的所有内容，这个表达式可能无法按预期工作，因为 Bash 的参数扩展并不直接支持这种反向的、具有固定数量分隔符的匹配。不过，如果字符串恰好符合这种模式，并且你只是想移除末尾的特定部分，它可能会起作用（尽管这通常不是它的用途）。</span><br><span class="line"></span><br><span class="line">但在这个例子中，由于 variable=&quot;User:123:321:/home/dir&quot; 并不以 :*:*:* 结尾，所以这个表达式实际上不会删除任何内容。</span><br><span class="line"></span><br><span class="line">$&#123;variable%%:*&#125;</span><br><span class="line">这个表达式会从变量 variable 的值中删除最长匹配 :* 的部分（从末尾开始匹配）。%% 表示删除最长匹配，而 :* 匹配一个冒号后跟任意数量的字符（直到字符串的末尾）。因此，这个表达式会删除从最后一个冒号开始到字符串末尾的所有内容。</span><br><span class="line"></span><br><span class="line">如果 variable=&quot;User:123:321:/home/dir&quot;，那么 $&#123;variable%%:*&#125; 的结果将是 User:123:321，因为它删除了最后一个冒号及其之后的所有内容。</span><br><span class="line"></span><br><span class="line">总结：</span><br><span class="line"></span><br><span class="line">$&#123;variable%:*:*:*&#125; 通常不是你想要用于从末尾删除内容的表达式，除非你的用例非常特定且字符串格式严格匹配。</span><br><span class="line">$&#123;variable%%:*&#125; 用于从字符串末尾删除最后一个冒号及其之后的所有内容。</span><br></pre></td></tr></table></figure>



<h2 id="如何列出第二个字母为-a-或-b-的文件？"><a href="#如何列出第二个字母为-a-或-b-的文件？" class="headerlink" title="如何列出第二个字母为 a 或 b 的文件？"></a>如何列出第二个字母为 a 或 b 的文件？</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -d ?[ab]*</span><br></pre></td></tr></table></figure>

<h2 id="tr命令"><a href="#tr命令" class="headerlink" title="tr命令"></a>tr命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">以下是tr命令的一些常用选项：</span><br><span class="line"></span><br><span class="line">-d：删除SET1中所有的字符。</span><br><span class="line">-s：压缩SET1中所有重复的字符。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">将小写字母转换为大写字母：</span><br><span class="line">[linux@bashcommandnotfound.cn ~]$ echo &#x27;hello world&#x27; | tr &#x27;a-z&#x27; &#x27;A-Z&#x27;</span><br><span class="line"></span><br><span class="line">删除字符串中的所有数字：</span><br><span class="line">[linux@bashcommandnotfound.cn ~]$ echo &#x27;hello world123&#x27; | tr -d &#x27;0-9&#x27;</span><br><span class="line"></span><br><span class="line">将字符串中的所有空格替换为下划线：</span><br><span class="line">[linux@bashcommandnotfound.cn ~]$ echo &#x27;hello world&#x27; | tr &#x27; &#x27; &#x27;_&#x27;</span><br><span class="line"></span><br><span class="line">将字符串中的所有数字替换为字母：</span><br><span class="line">[linux@bashcommandnotfound.cn ~]$ echo &#x27;hello world123&#x27; | tr &#x27;0-9&#x27; &#x27;a-j&#x27;</span><br><span class="line"></span><br><span class="line">压缩字符串中的连续空格：</span><br><span class="line">[linux@bashcommandnotfound.cn ~]$ echo &#x27;hello   world&#x27; | tr -s &#x27; &#x27;</span><br></pre></td></tr></table></figure>

<h3 id="tr-如何从字符串中删除所有空格？"><a href="#tr-如何从字符串中删除所有空格？" class="headerlink" title="tr 如何从字符串中删除所有空格？"></a>tr 如何从字符串中删除所有空格？</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# c=`echo $a|tr -d &quot;j&quot;` </span><br><span class="line">[root@bigdata02 myshells]# echo $c</span><br><span class="line">kdlfd</span><br><span class="line">[root@bigdata02 myshells]# echo $a</span><br><span class="line">kjdjlfd</span><br><span class="line"></span><br><span class="line">echo $string|tr -d &quot; &quot;</span><br></pre></td></tr></table></figure>

<h2 id="a-b-和-a-eq-b-有什么区别"><a href="#a-b-和-a-eq-b-有什么区别" class="headerlink" title="[ $a &#x3D;&#x3D; $b ] 和 [ $a -eq $b ] 有什么区别"></a>[ $a &#x3D;&#x3D; $b ] 和 [ $a -eq $b ] 有什么区别</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ $a == $b ] - 可以用于字符串比较</span><br><span class="line">[ $a -eq $b ] - 应该用于数字测试</span><br></pre></td></tr></table></figure>

<h2 id="和"><a href="#和" class="headerlink" title="&#x3D;和&#x3D;&#x3D;"></a>&#x3D;和&#x3D;&#x3D;</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">= 和 == 之间有什么区别</span><br><span class="line"></span><br><span class="line">= - 我们用来给变量赋值</span><br><span class="line">== - 我们用来比较字符串</span><br></pre></td></tr></table></figure>

<h2 id="和-？"><a href="#和-？" class="headerlink" title="[]和[[]]？"></a>[]和[[]]？</h2><h4 id="比较操作符"><a href="#比较操作符" class="headerlink" title="比较操作符"></a>比较操作符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">在 [[]] 中可以使用比较操作符，如 &gt;、&lt; 等，如下：</span><br><span class="line">$ [[ 1 &lt; 2 ]] &amp;&amp; echo &quot;1 is less than 2&quot;</span><br><span class="line">1 is less than 2</span><br><span class="line"></span><br><span class="line">上述命令中，我们使用 &lt; 符号来检查 1 是否小于 2，命令是可以运行。但如果使用 [] 时，命令会报错</span><br><span class="line">在这种情况下，Bash 会认为 &lt; 是一个重定向符。因此，我们需要使用转义符 \ 进行转义：</span><br><span class="line"></span><br><span class="line">$ [ 1 \&lt; 2 ] &amp;&amp; echo &quot;1 is less than 2&quot;</span><br><span class="line">1 is less than 2</span><br><span class="line"></span><br><span class="line">现在，使用 [] 也可以执行成功。</span><br><span class="line"></span><br><span class="line">类似的，对于 &gt; 符号也需要使用转义符 \ 进行转义。</span><br></pre></td></tr></table></figure>

<h4 id="对整数比较符"><a href="#对整数比较符" class="headerlink" title="对整数比较符"></a>对整数比较符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">对整数比较符 -eq、-ne、-gt、-lt、-ge 和 -le，[] 和 [[]] 都可以正常比较，如下：</span><br><span class="line"></span><br><span class="line">$ [[ 1 -lt 2 ]] &amp;&amp; echo &quot;1 is less than 2&quot;</span><br><span class="line">1 is less than 2</span><br><span class="line">$ [ 1 -lt 2 ] &amp;&amp; echo &quot;1 is less than 2&quot;</span><br><span class="line">1 is less than 2</span><br></pre></td></tr></table></figure>

<h4 id="布尔操作符"><a href="#布尔操作符" class="headerlink" title="布尔操作符"></a>布尔操作符</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">在 [[]] 中，我们可以使用逻辑运算 &amp;&amp; 和 ||，如下：</span><br><span class="line"></span><br><span class="line">$ [[ 3 -eq 3 &amp;&amp; 4 -eq 4 ]] &amp;&amp; echo &quot;Numbers are equal&quot;</span><br><span class="line">Numbers are equal</span><br><span class="line">bash</span><br><span class="line">但是在 [] 中，我们必须使用 -a、-o 分别代替 &amp;&amp; 和 ||，如下：</span><br><span class="line"></span><br><span class="line">$ [ 3 -eq 3 -a 4 -eq 4 ] &amp;&amp; echo &quot;Numbers are equal&quot;</span><br><span class="line">Numbers are equal</span><br></pre></td></tr></table></figure>

<h4 id="聚合表达式"><a href="#聚合表达式" class="headerlink" title="聚合表达式"></a>聚合表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">在 [[]] 中，我们可以使用括号 () 来聚合多个表达式，() 的使用可以让脚本更具可读性，如下：</span><br><span class="line">$ [[ 3 -eq 3 &amp;&amp; (2 -eq 2 &amp;&amp; 1 -eq 1) ]] &amp;&amp; echo &quot;Parentheses can be used&quot;</span><br><span class="line">Parentheses can be used</span><br><span class="line">bash</span><br><span class="line">上述命令中，我们使用了 () 对表达式 2 -eq 2 &amp;&amp; 1 -eq 1 做了聚合，然后将其作为第 2 个表达式参与到 &amp;&amp; 运算中，最后结果为验证为真。</span><br><span class="line"></span><br><span class="line">但如果在 [] 中使用 ()，则会报语法错误，如下：</span><br><span class="line">$ [ 3 -eq 3 -a (2 -eq 2 -a 1 -eq 1) ] &amp;&amp; echo &quot;Parentheses can be used&quot;</span><br><span class="line">bash: syntax error near unexpected token `(&#x27;</span><br><span class="line">bash</span><br><span class="line">上述 [] 中，我们使用 -a 来代替 &amp;&amp; 但还是得到了一个报错。</span><br><span class="line"></span><br><span class="line">在这里，我们必须使用转义符对括号进行转义，并且前后要保留一个空格，如下：</span><br><span class="line">$ [ 3 -eq 3 -a \( 2 -eq 2 -a 1 -eq 1 \) ] &amp;&amp; echo &quot;Parentheses can be used&quot;</span><br><span class="line">Parentheses can be used</span><br><span class="line">bash</span><br><span class="line"></span><br><span class="line">通过上面的改造，命令就可以成功执行。</span><br></pre></td></tr></table></figure>

<h4 id="模式匹配"><a href="#模式匹配" class="headerlink" title="模式匹配"></a>模式匹配</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">在 [[]] 中，我们还可以使用通配符进行模式匹配，如下：</span><br><span class="line"></span><br><span class="line">$ name=Alice</span><br><span class="line">$ [[ $name = *c* ]] &amp;&amp; echo &quot;Name includes c&quot;</span><br><span class="line">Name includes c</span><br><span class="line">$ echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">正则表达式是另一种字符串模式匹配的方式，在 [[]] 中，我们可以使用正则表达式来做模式匹配的工作。</span><br><span class="line"></span><br><span class="line">$ name=Alice</span><br><span class="line">$ [[ $name =~ ^Ali ]] &amp;&amp; echo &quot;Regular expressions can be used&quot;</span><br><span class="line">Regular expressions can be used</span><br><span class="line">bash</span><br><span class="line"></span><br><span class="line">那如果在 [] 中使用正则表达式呢？</span><br><span class="line">$ name=Alice</span><br><span class="line">$ [ $name =~ ^Ali ] &amp;&amp; echo &quot;Regular expressions can be used&quot;</span><br><span class="line">bash: [: =~: binary operator expected</span><br><span class="line">bash</span><br><span class="line">我们得到了一个错误，所以得到结论：在 [] 中不能使用正则表达式。</span><br></pre></td></tr></table></figure>

<h4 id="单词分割"><a href="#单词分割" class="headerlink" title="单词分割"></a>单词分割</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">在 [[]] 中，Bash 不会对值中的单词进行分割，比如变量的值是一个包含空格的字符串，Bash 不会将其分割成多个单词。</span><br><span class="line"></span><br><span class="line">$ filename=&quot;none existent file&quot;</span><br><span class="line">$ [[ ! -e $filename ]] &amp;&amp; echo -n &quot;File doesn&#x27;t exist;&quot; &amp;&amp; echo $filename</span><br><span class="line">File doesn&#x27;t exist;none existent file</span><br><span class="line">bash</span><br><span class="line">上面命令中，我们用一个不存在的文件作为示例，检查文件是否存在，但是值包含字符串。在 [[]] 中，我们可以直接使用 filename 变量，那在 [] 又如何？</span><br><span class="line"></span><br><span class="line">$ filename=&quot;none existent file&quot;</span><br><span class="line">$ [ ! -e $filename ] &amp;&amp; echo -n &quot;File doesn&#x27;t exist;&quot; &amp;&amp; echo $filename</span><br><span class="line">[: too many arguments</span><br><span class="line">bash</span><br><span class="line"></span><br><span class="line">上面命令中，我们得到了一个错误。如果希望在 [] 也能使用带空格的字符串，需要加上双引号，如下：</span><br><span class="line">$ filename=&quot;none existent file&quot;</span><br><span class="line">$ [ ! -e &quot;$filename&quot; ] &amp;&amp; echo -n &quot;File doesn&#x27;t exist;&quot; &amp;&amp; echo $filename</span><br><span class="line">File doesn&#x27;t exist;none existent file</span><br></pre></td></tr></table></figure>

<h4 id="单中括号"><a href="#单中括号" class="headerlink" title="单中括号 []"></a>单中括号 []</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">单中括号是Shell内置命令 test 的另一种形式。它主要用于基本的字符串和数值比较。以下是一些关键点：</span><br><span class="line"></span><br><span class="line">数值比较：</span><br><span class="line">支持 -lt（小于）、-gt（大于）等符号。例如： if [ $a -gt 5 ]; then echo &quot;a 大于 5&quot; fi</span><br><span class="line"></span><br><span class="line">字符串比较：</span><br><span class="line">仅支持 = 和 != 两种比较方式。如果需要使用 &gt; 和 &lt;，则需要进行转义。例如： if [ &quot;a&quot; \&lt; &quot;b&quot; ]; then echo &quot;a 小于 b&quot; fi</span><br><span class="line"></span><br><span class="line">文件测试：可以用于测试文件属性，如存在性、可读性</span><br></pre></td></tr></table></figure>

<h4 id="双中括号"><a href="#双中括号" class="headerlink" title="双中括号 [[]]"></a>双中括号 [[]]</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">双中括号是Shell的关键字，提供了更强大的功能和更灵活的语法。以下是一些关键点：</span><br><span class="line"></span><br><span class="line">逻辑运算：支持 &amp;&amp; 和 || 等逻辑运算符。例如： if [[ $a -gt 5 &amp;&amp; $b -lt 10 ]]; then echo &quot;a 大于 5 且 b 小于 10&quot; fi</span><br><span class="line"></span><br><span class="line">模式匹配：支持字符串的模式匹配，可以使用 =~ 操作符进行正则表达式匹配。例如： if [[ $string =~ ^[a-z]+$ ]]; then echo &quot;字符串是小写字母&quot; fi</span><br><span class="line"></span><br><span class="line">不进行单词拆分和文件名扩展：在 [[ ]] 中，变量不会进行单词拆分和文件名扩展，但会进行参数扩展和命令替换</span><br></pre></td></tr></table></figure>

<h4 id="使用建议"><a href="#使用建议" class="headerlink" title="使用建议"></a>使用建议</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数值比较：使用单中括号 []。</span><br><span class="line"></span><br><span class="line">字符串比较和模式匹配：使用双中括号 [[]]，因为它提供了更强大的功能和更灵活的语法</span><br></pre></td></tr></table></figure>

<h2 id="string-abc-和-string-“abc-”-有什么区别"><a href="#string-abc-和-string-“abc-”-有什么区别" class="headerlink" title="[[ $string &#x3D;&#x3D; abc* ]] 和 [[ $string &#x3D;&#x3D; “abc*” ]] 有什么区别"></a>[[ $string &#x3D;&#x3D; abc* ]] 和 [[ $string &#x3D;&#x3D; “abc*” ]] 有什么区别</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[ $string == abc* ]] - 将检查字符串是否以 abc 字母开头</span><br><span class="line">[[ $string == &quot;abc*&quot; ]] - 将检查字符串是否完全等于 abc*</span><br></pre></td></tr></table></figure>

<h2 id="在-shell-脚本中，如何测试文件"><a href="#在-shell-脚本中，如何测试文件" class="headerlink" title="在 shell 脚本中，如何测试文件 ?"></a>在 shell 脚本中，如何测试文件 ?</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">test 命令可以用来测试文件。</span><br><span class="line"></span><br><span class="line">基础用法如下表格：</span><br><span class="line"></span><br><span class="line">Test         用法</span><br><span class="line">-d 文件名    如果文件存在并且是目录，返回true</span><br><span class="line">-e 文件名    如果文件存在，返回true</span><br><span class="line">-f 文件名    如果文件存在并且是普通文件，返回true</span><br><span class="line">-r 文件名    如果文件存在并可读，返回true</span><br><span class="line">-s 文件名    如果文件存在并且不为空，返回true</span><br><span class="line">-w 文件名    如果文件存在并可写，返回true</span><br><span class="line">-x 文件名    如果文件存在并可执行，返回true</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# echo test -f while.sh </span><br><span class="line">test -f while.sh</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata02 myshells]# test -f while.sh      </span><br><span class="line">[root@bigdata02 myshells]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h2 id="硬链接和软链接"><a href="#硬链接和软链接" class="headerlink" title="硬链接和软链接"></a>硬链接和软链接</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">软连接：</span><br><span class="line">可以对文件或者目录创建软链接</span><br><span class="line">标文件被移动、重命名或删除，软链接将会失效</span><br><span class="line">软连接可以跨越不同的文件系统</span><br><span class="line">具有不同的inode</span><br><span class="line"></span><br><span class="line">ln -s [目标文件或目录] [链接名]</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">软连接为目录时：</span><br><span class="line">cd 软连接</span><br><span class="line">pwd  打印的是当前软链接的位置</span><br><span class="line">pwd -P 打印的是软连接对应目录的位置</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">删除软链接 rm 名字</span><br><span class="line">不要加-rf 因为如果软链接对应的是目录时，这种方法删除的不是软链接，而是目录下的所有</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">硬链接：</span><br><span class="line">可以对文件创建硬链接</span><br><span class="line">不能跨文件系统。</span><br><span class="line">一个文件可以有多个硬链接</span><br><span class="line">修改一个文件的内容，另外硬链接文件内容也会改变</span><br><span class="line">删除其中一个，另外的文件还可以使用</span><br><span class="line">具有相同的inode</span><br><span class="line"></span><br><span class="line">ll 或者ls -l 如果是文件会显示该文件硬链接数</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ln [目标文件] [链接名]</span><br><span class="line"></span><br><span class="line">df -Th 可以看当前linux系统包含的文件系统类别和容量</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://cloudflare-imgbed-bhx.pages.de/file/1751361097672_5258-20250701-image-20250701171127966.png" alt="image-20250701171127966"></p>
<h2 id="date"><a href="#date" class="headerlink" title="date"></a>date</h2><h3 id="获取系统当前时间"><a href="#获取系统当前时间" class="headerlink" title="获取系统当前时间"></a>获取系统当前时间</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.date命令默认获取系统当前时间</span><br><span class="line">&gt;&gt;date</span><br><span class="line">Sat Oct 26 18:35:06     2024</span><br></pre></td></tr></table></figure>

<h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2.date命令支持对时间进行格式化</span><br><span class="line"></span><br><span class="line">echo `date &quot;+%Y-%m-%d %H:%M:%S&quot;`  #双引号是因为第三个空格；date后面要有空格</span><br><span class="line"></span><br><span class="line">注意：date后面的这些参数中间如果没有空格，可以省略双引号。</span><br></pre></td></tr></table></figure>

<h3 id="时间戳"><a href="#时间戳" class="headerlink" title="时间戳"></a>时间戳</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3.时间戳</span><br><span class="line"></span><br><span class="line">这里面的%s表示获取自1970-01-01 00:00:00以来的秒数</span><br><span class="line">[root@localhost ~]# date +%s</span><br><span class="line">1729939111</span><br><span class="line"></span><br><span class="line">虽然date命令没有直接支持获取毫秒数，但是从秒换算为毫秒也很简单啊，最直接粗暴的方式就是在秒数后面加3个0</span><br><span class="line">[root@localhost ~]# date +%s&quot;000&quot;</span><br></pre></td></tr></table></figure>

<h3 id="获取指定时间的时间戳"><a href="#获取指定时间的时间戳" class="headerlink" title="获取指定时间的时间戳"></a>获取指定时间的时间戳</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">date命令 提供的有--date这个参数，可以指定时间</span><br><span class="line">date --date=&quot;2026-01-01 00:00:00&quot;</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# date --date=&quot;2026-01-01 00:00:00&quot;</span><br><span class="line">Wed Jan  1 00:00:00 CST 2026</span><br><span class="line">[root@localhost ~]# date --date=&quot;2026-01-01 00:00:00&quot; +%s </span><br><span class="line">1577808000</span><br><span class="line"></span><br><span class="line">获取昨天的日期，这个需求也需要使用--date参数实现</span><br><span class="line">[root@localhost ~]# date --date=&quot;1 days ago&quot;</span><br><span class="line">Sat Mar 28 21:36:37 CST 2026</span><br><span class="line"></span><br><span class="line">再对返回的结果进行格式化，只获取年月日</span><br><span class="line">date --date=&quot;1 days ago&quot; +%Y-%m-%d</span><br><span class="line">[root@localhost ~]# date --date=&quot;1 days ago&quot; +%Y-%m-%d</span><br><span class="line">2026-03-28</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ date --date=&quot;2024-10-28&quot; +%s</span><br><span class="line">1730044800</span><br><span class="line"></span><br><span class="line">ty@DESKTOP-V3JFR2H MINGW64 ~/Desktop</span><br><span class="line">$ date --date=&quot;2024-10-28&quot;</span><br><span class="line">Mon Oct 28 00:00:00     2024</span><br></pre></td></tr></table></figure>

<h2 id="etc-profile和-etc-profile-d"><a href="#etc-profile和-etc-profile-d" class="headerlink" title="&#x2F;etc&#x2F;profile和&#x2F;etc&#x2F;profile.d"></a>&#x2F;etc&#x2F;profile和&#x2F;etc&#x2F;profile.d</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/profile 文件 登录或者切换用户都会读这个文件 全局的</span><br><span class="line"></span><br><span class="line">/etc/profile.d 目录 里面有一些脚本文件 /etc/profile会循环执行这些脚本</span><br><span class="line"></span><br><span class="line">/etc/profile.d/my_env.sh可以创建这个文件，在这里面配置环境变量</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 profile.d]# ll</span><br><span class="line">total 56</span><br><span class="line">-rw-r--r--. 1 root root  771 Aug  9  2019 256term.csh</span><br><span class="line">-rw-r--r--. 1 root root  841 Aug  9  2019 256term.sh</span><br><span class="line">-rw-r--r--. 1 root root  196 Mar 25  2017 colorgrep.csh</span><br><span class="line">-rw-r--r--. 1 root root  201 Mar 25  2017 colorgrep.sh</span><br><span class="line">-rw-r--r--. 1 root root 1741 Aug  6  2019 colorls.csh</span><br><span class="line">-rw-r--r--. 1 root root 1606 Aug  6  2019 colorls.sh</span><br><span class="line">-rw-r--r--. 1 root root   80 Oct 31  2018 csh.local</span><br><span class="line">-rw-r--r--. 1 root root 1706 Aug  9  2019 lang.csh</span><br><span class="line">-rw-r--r--. 1 root root 2703 Aug  9  2019 lang.sh</span><br><span class="line">-rw-r--r--. 1 root root  123 Jul 31  2015 less.csh</span><br><span class="line">-rw-r--r--. 1 root root  121 Jul 31  2015 less.sh</span><br><span class="line">-rw-r--r--. 1 root root   81 Oct 31  2018 sh.local</span><br><span class="line">-rw-r--r--. 1 root root  164 Jan 28  2014 which2.csh</span><br><span class="line">-rw-r--r--. 1 root root  169 Jan 28  2014 which2.sh</span><br></pre></td></tr></table></figure>

<h2 id="ll-grep-hudi"><a href="#ll-grep-hudi" class="headerlink" title="ll|grep hudi"></a>ll|grep hudi</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目录下文件多的情况下，用这个快速过滤</span><br></pre></td></tr></table></figure>

<h2 id="netstat-anp-grep-9083"><a href="#netstat-anp-grep-9083" class="headerlink" title="netstat -anp|grep 9083"></a>netstat -anp|grep 9083</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查看监听端口</span><br></pre></td></tr></table></figure>

<h2 id="ls-al"><a href="#ls-al" class="headerlink" title="ls -al"></a>ls -al</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.开头的路径和文件 ls不会显示</span><br><span class="line">这是隐藏文件</span><br><span class="line"></span><br><span class="line">-a 显示隐藏文件</span><br><span class="line">-l  显示的很详细  = ll</span><br></pre></td></tr></table></figure>

<h2 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">adduser ty</span><br><span class="line">passwd ty</span><br><span class="line"></span><br><span class="line">su ty</span><br><span class="line"></span><br><span class="line">userdel -r ty</span><br><span class="line"></span><br><span class="line">useradd -r -g mysql mysql 为用户添加用户组</span><br></pre></td></tr></table></figure>

<h2 id="用户组-groupadd"><a href="#用户组-groupadd" class="headerlink" title="用户组 groupadd"></a>用户组 groupadd</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd mysql 用户组添加</span><br></pre></td></tr></table></figure>

<h2 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chown 命令，可以认为是 &quot;change owner&quot; 的缩写，主要用于修改文件（或目录）的所有者，除此之外，这个命令也可以修改文件（或目录）的所属组。</span><br><span class="line"></span><br><span class="line">当只需要修改所有者时，可使用如下chown命令的基本格式：</span><br><span class="line">[root@localhost ~]# chown [-R] 所有者 文件或目录</span><br><span class="line"></span><br><span class="line">-R（注意大写）选项表示连同子目录中的所有文件，都更改所有者。</span><br><span class="line"></span><br><span class="line">如果需要同时更改所有者和所属组，chown 命令的基本格式为：</span><br><span class="line">[root@localhost ~]# chown [-R] 所有者:所属组 文件或目录</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">修改文件的拥有者 </span><br><span class="line">chown</span><br><span class="line">功能：修改文件的拥有者</span><br><span class="line">格式：chown [参数] 用户名 文件名</span><br><span class="line"></span><br><span class="line">$ sudo chown root file</span><br><span class="line">$ sudo chown [-R] root:root file 同时修改所有者和所属组</span><br></pre></td></tr></table></figure>

<h2 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">修改文件的所属组</span><br><span class="line">chgrp</span><br><span class="line"></span><br><span class="line">功能：修改文件或目录的所属组</span><br><span class="line">格式： chgrp [参数] 用户组名 文件名</span><br><span class="line">常用选项： -R 递归修改文件或目录的所属组</span><br><span class="line"></span><br><span class="line">实例：</span><br><span class="line"># chgrp root file</span><br><span class="line">$ sudo chgrp g1 file</span><br></pre></td></tr></table></figure>

<h2 id="权限-chmod"><a href="#权限-chmod" class="headerlink" title="权限 chmod"></a>权限 chmod</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45031801/article/details/133876760">讲得好url</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202403161834953.png" alt="image-20240316183435935"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">超级用户的命令提示符是“#”，普通用户的命令提示符是“$”</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x.  4 root root     38 Feb 26 13:18 xdg</span><br><span class="line"></span><br><span class="line">开头：</span><br><span class="line">d：目录文件</span><br><span class="line">-：普通文件（文本，源代码，可执行程序，第三方动静态库）</span><br><span class="line">l：软链接（类似Windows的快捷方式）</span><br><span class="line">b：块设备文件（例如硬盘、光驱等）</span><br><span class="line">p：管道文件</span><br><span class="line">c：字符设备文件（例如屏幕等串口设备）</span><br><span class="line">s：套接口文件</span><br><span class="line"></span><br><span class="line">后面的分三个三个来看 所有者权限 用户组权限 其他用户组权限</span><br><span class="line">数字</span><br><span class="line">第一个root位置 所有者</span><br><span class="line">第二个root位置 用户组</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">chmod</span><br><span class="line">功能： 设置文件的访问权限</span><br><span class="line">格式： chmod [参数] 权限 文件名</span><br><span class="line"></span><br><span class="line">常用选项：</span><br><span class="line">R -&gt; 递归修改目录文件的权限</span><br><span class="line">说明：只有文件的拥有者和root才可以改变文件的权限</span><br><span class="line"></span><br><span class="line">法一：用户表示符+/-=权限字符</span><br><span class="line">+:向权限范围增加权限代号所表示的权限</span><br><span class="line">-:向权限范围取消权限代号所表示的权限</span><br><span class="line">=:向权限范围赋予权限代号所表示的权限</span><br><span class="line">用户符号：</span><br><span class="line">u：拥有者</span><br><span class="line">g：拥有者同组用</span><br><span class="line">o：其它用户</span><br><span class="line">a：所有用户</span><br><span class="line"></span><br><span class="line">chmod u+x file</span><br><span class="line">chmod g+x file</span><br><span class="line">chmod u+x,g+x,o+rw file</span><br><span class="line"></span><br><span class="line">法二：使用三位八进制数字</span><br><span class="line">chmod 774 file</span><br></pre></td></tr></table></figure>

<h2 id="ps-ef-grep-runJar"><a href="#ps-ef-grep-runJar" class="headerlink" title="ps -ef|grep runJar"></a>ps -ef|grep runJar</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202403171614124.png" alt="image-20240317161417201"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">runjar是hive的服务</span><br></pre></td></tr></table></figure>

<h2 id="jstat-gcutil-PID-1000"><a href="#jstat-gcutil-PID-1000" class="headerlink" title="jstat -gcutil PID 1000"></a>jstat -gcutil PID 1000</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">通过jstat -gcutil PID 1000来看看这个进程GC的信息，每一秒钟刷新一次，如果GC次数增长过快，说明内存不够用</span><br></pre></td></tr></table></figure>

<h2 id="ip-addr-ifconfig"><a href="#ip-addr-ifconfig" class="headerlink" title="ip addr|ifconfig"></a>ip addr|ifconfig</h2><h2 id="touch-cat-more"><a href="#touch-cat-more" class="headerlink" title="touch cat more"></a>touch cat more</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch 创建文件</span><br><span class="line">cat -b 显示时输出行号</span><br><span class="line">more 不一次显示全</span><br></pre></td></tr></table></figure>

<h2 id="tail-head"><a href="#tail-head" class="headerlink" title="tail head"></a>tail head</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tail -f 文件 动态显示</span><br><span class="line">tail -F 文件 等同于–follow=name --retry，根据文件名进行追踪，并保持重试，即该文件被删除或改名后，如果再次创建相同的文件名，会继续追踪</span><br><span class="line"></span><br><span class="line">tail -n 文件 文件后几行</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如何获取文本文件的第 10 行 ?</span><br><span class="line">head -10 file</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">获取文件的最后/第一行?</span><br><span class="line">head -1 file</span><br><span class="line">tail -1 file</span><br></pre></td></tr></table></figure>

<h2 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">echo：将内容输出到设备，类似java里面的system.out.println()</span><br><span class="line">常见用法：</span><br><span class="line">echo &quot;hello\t\t world！&quot; 不解析转义字符</span><br><span class="line">echo -e &quot;hello\t\t world！&quot; 解析转义字符</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# echo &quot;hello\t\t world！&quot;</span><br><span class="line">hello\t\t world！</span><br><span class="line">[root@localhost ~]# echo -e &quot;hello\t\t world！&quot;</span><br><span class="line">hello            world！</span><br></pre></td></tr></table></figure>

<h2 id="history"><a href="#history" class="headerlink" title="history"></a>history</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">history保留了最近执行的命令记录，默认可以保留1000。</span><br><span class="line">历史清单从0开始编号到最大值。</span><br><span class="line">常见用法：</span><br><span class="line">  history N 显示最近N条命令</span><br><span class="line">  history -c 清除所有的历史记录</span><br><span class="line">  history -w xxx.txt 保存历史记录到文本xxx.txt</span><br></pre></td></tr></table></figure>

<h2 id="df"><a href="#df" class="headerlink" title="df"></a>df</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">磁盘使用情况</span><br><span class="line">df -h</span><br><span class="line">df -h -T</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@bigdata01 /]# df -h -T</span><br><span class="line">Filesystem              Type      Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                devtmpfs  898M     0  898M   0% /dev</span><br><span class="line">tmpfs                   tmpfs     910M     0  910M   0% /dev/shm</span><br><span class="line">tmpfs                   tmpfs     910M  9.5M  901M   2% /run</span><br><span class="line">tmpfs                   tmpfs     910M     0  910M   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root xfs        47G   10G   38G  22% /</span><br><span class="line">/dev/sda1               xfs      1014M  150M  865M  15% /boot</span><br><span class="line">tmpfs                   tmpfs     182M     0  182M   0% /run/user/0</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 /]# ^C</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 /]# ^C</span><br><span class="line">[root@bigdata01 /]# df -h</span><br><span class="line">Filesystem               Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                 898M     0  898M   0% /dev</span><br><span class="line">tmpfs                    910M     0  910M   0% /dev/shm</span><br><span class="line">tmpfs                    910M   18M  893M   2% /run</span><br><span class="line">tmpfs                    910M     0  910M   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root   47G   10G   38G  22% /</span><br><span class="line">/dev/sda1               1014M  150M  865M  15% /boot</span><br><span class="line">tmpfs                    182M     0  182M   0% /run/user/0</span><br></pre></td></tr></table></figure>

<h2 id="vi"><a href="#vi" class="headerlink" title="vi"></a>vi</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1.查找字符串  对文件中字符串的快速查找</span><br><span class="line">  vi里的命令模式：/查找内容</span><br><span class="line">  有多个结果是n代表下一个查询结果</span><br><span class="line">  </span><br><span class="line">2.查找某一行内容  已经知道了需要修改的内容在文件的第几行</span><br><span class="line">  vi里的命令模式：shift+冒号+具体行号</span><br><span class="line">  </span><br><span class="line">3.使vi编辑里每行具有行号</span><br><span class="line">  shift+冒号+set nu</span><br><span class="line">  </span><br><span class="line">4.复制粘贴</span><br><span class="line">  使用vi命令打开hello.txt，把光标移动到希望复制的那一行内容上面，然后连按yy，这样就把这一行内容复制上了，然后按p就会把刚才复制的内容粘贴到下一行，按一次p粘贴一行，一直按到你喊停为止。</span><br><span class="line">最后按shift和: 输入wq保存退出即可。</span><br><span class="line"></span><br><span class="line">多行赋值：nyy</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令行模式下输入</span><br><span class="line">6,9 co 12</span><br><span class="line">复制第6行到第9行之间的内容到第12行后面。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">有时候不想费劲看多少行或复制大量行时，可以使用标签来替代</span><br><span class="line">光标移到起始行，输入ma</span><br><span class="line">光标移到结束行，输入mb</span><br><span class="line">光标移到粘贴行，输入mc</span><br><span class="line">然后 :&#x27;a,&#x27;b co &#x27;c   把 co 改成 m 就成剪切了</span><br><span class="line"></span><br><span class="line">要删除多行的话，可以用 ：5, 9 de</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">5.快速删除</span><br><span class="line">  到想要删除的那一行内容上面，连按dd，就可以删除当前行的内容。</span><br><span class="line">  </span><br><span class="line">  还有一个大招，如果想要清空当前行下的所有内容，先连按999，然后再连按dd，这样就可以清空光标所在行下的所有内容了。</span><br></pre></td></tr></table></figure>

<h2 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wc -w  统计单词数 默认空格为分隔符</span><br><span class="line">wc -l 行数</span><br></pre></td></tr></table></figure>

<h2 id="uniq"><a href="#uniq" class="headerlink" title="uniq"></a>uniq</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">uniq：检查重复的行列</span><br><span class="line">什么参数都不带的</span><br><span class="line">[root@localhost ~]# cat hello.txt </span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# uniq  hello.txt 出现一次也是重复一次</span><br><span class="line">hello world!</span><br><span class="line"></span><br><span class="line">-c参数，这个参数表示在输出行的前面加上数据在文件中重复出现的次数</span><br><span class="line">[root@localhost ~]# uniq -c hello.txt </span><br><span class="line">      6 hello world!</span><br><span class="line">      </span><br><span class="line">-u参数，表示返回文件中不重复的行</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# vi /data/uniqdata.txt</span><br><span class="line">i love you</span><br><span class="line">i love you</span><br><span class="line">he love her</span><br><span class="line">i love you</span><br><span class="line">she love him</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# uniq data/uniqdata.txt</span><br><span class="line">i love you</span><br><span class="line">he love her</span><br><span class="line">i love you</span><br><span class="line">she love him</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sort data/uniqdata.txt | uniq </span><br><span class="line">he love her</span><br><span class="line">i love you</span><br><span class="line">she love him</span><br></pre></td></tr></table></figure>

<h2 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">显示进程信息</span><br><span class="line">一个典型应用就是在后面跟e和f参数，显示系统内的所有进程</span><br><span class="line"></span><br><span class="line">grep命令以后，就可以把这两个命令组合到一块使用</span><br><span class="line">ps -ef | grep java</span><br><span class="line">这是一个比较常用的操作，过滤出系统内的java进程信息</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# ps -ef | grep java</span><br><span class="line">root       2239   1973  0 22:19 pts/0    00:00:00 grep --color=auto java</span><br><span class="line">注意：这里面返回的grep --color=auto这一行信息表示是grep这个命令本身</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# ps -ef | grep python</span><br><span class="line">root        736      1  0 20:46 ?        00:00:00 /usr/bin/python2 -Es /usr/sbin/firewalld --nofork --nopid</span><br><span class="line">root       1070      1  0 20:46 ?        00:00:00 /usr/bin/python2 -Es /usr/sbin/tuned -l -P</span><br><span class="line">root       2241   1973  0 22:19 pts/0    00:00:00 grep --color=auto python</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">显示出这个信息其实说明没有找到java进程信息，下面返回的这一行表示是grep进程本身，这样容易给我们造成错觉，想把它去掉，怎么去掉呢？</span><br><span class="line"></span><br><span class="line">很简单，使用grep加上-v参数再做一次过滤即可，表示忽略包含指定字符串的数据。</span><br><span class="line">[root@localhost ~]# ps -ef | grep java | grep -v grep</span><br></pre></td></tr></table></figure>



<h2 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">netstat也是显示进程相关信息的，只不过可以比ps命令额外显示端口相关的信息</span><br><span class="line"></span><br><span class="line">但是这个命令默认是没有安装的，最方便的方式就是使用yum来在线安装</span><br><span class="line">yum install -y net-tools</span><br><span class="line"></span><br><span class="line">netstat的常见用法是</span><br><span class="line">netstat -anp</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">这里会显示很多的进程和端口信息，netstat也需要和grep命令结合使用</span><br><span class="line">假设我们想看一下ssh服务的端口使用情况，ssh服务的端口是22，如果ssh服务开启了，那么22这个端口就会被监听。</span><br><span class="line">netstat -anp | grep 22</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# netstat -anp | grep 22</span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1071/sshd           </span><br><span class="line">tcp        0     52 192.168.182.132:22      192.168.182.1:51472     ESTABLISHED 1969/sshd: root@pts </span><br><span class="line">tcp6       0      0 :::22                   :::*                    LISTEN      1071/sshd</span><br></pre></td></tr></table></figure>

<h2 id="jps"><a href="#jps" class="headerlink" title="jps"></a>jps</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">jps：类似ps命令，不同的是ps是用来显示所有进程信息的，而jps只显示Java进程</span><br><span class="line">准确的说jps是显示当前用户已启动的Java进程信息，信息包括进程号和简短的进程command</span><br><span class="line"></span><br><span class="line">注意：jps是Java提供的命令，只有在安装配置好Java环境之后才能使用</span><br><span class="line">jps -m 可以显示得更全面些</span><br><span class="line"></span><br><span class="line">pe -ef | grep xxx</span><br></pre></td></tr></table></figure>

<h2 id="top"><a href="#top" class="headerlink" title="top"></a>top</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">主要作用在于动态显示系统消耗资源最多的进程信息，包含进程ID、内存占用、CPU占用等</span><br><span class="line">和ps命令作用基本相同，唯一的区别是top命令能够动态显示进程信息</span><br><span class="line"></span><br><span class="line">注意：这里的CPU使用情况是总体CPU的使用情况，如果是多核CPU，想查看具体每个CPU的使用情况的话可以在监控模式中按键盘上的1，就可以查看每一个CPU的情况了</span><br><span class="line">  </span><br><span class="line">按q可以退出此监控模式</span><br></pre></td></tr></table></figure>

<h2 id="free"><a href="#free" class="headerlink" title="free"></a>free</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">查看内存使用情况</span><br><span class="line">free 查看内存和交换空间的使用情况</span><br><span class="line">常见用法：</span><br><span class="line">free -m：显示内存单位为MB</span><br><span class="line">free -h：根据值的大小，显示易于识别的单位</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@bigdata01 /]# free -h</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1.8G        185M        1.3G         17M        306M        1.4G</span><br><span class="line">Swap:          2.0G          0B        2.0G</span><br><span class="line">[root@bigdata01 /]# free -m</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:           1819         185        1326          17         306        1459</span><br><span class="line">Swap:          2047           0        2047</span><br></pre></td></tr></table></figure>

<h2 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可以使用前面学习的ps命令，找到程序对应的PID，然后使用kill命令杀掉这个进程，进程被杀掉了，对应的程序也就停止了</span><br><span class="line"></span><br><span class="line">如果遇到有一些进程使用kill命令杀不掉，那就可以使用kill -9 PID ,这样可以实现强制杀进程。</span><br></pre></td></tr></table></figure>

<h2 id="压缩-解压"><a href="#压缩-解压" class="headerlink" title="压缩 解压"></a>压缩 解压</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">常见用法：压缩和解压</span><br><span class="line">参数：</span><br><span class="line">-z 是否同时具有 gzip 的属性？亦即是否需要用 gzip 压缩？</span><br><span class="line">-c 创建一个压缩文件的参数指令(create 的意思)；</span><br><span class="line">-x 解开一个压缩文件的参数指令！</span><br><span class="line">-v 压缩的过程中显示文件！</span><br><span class="line">-f 使用档案名字，这个参数是最后一个参数，后面只能接档案名！</span><br><span class="line">注意：特别注意，在参数的下达中， c/x 仅能存在一个！不可同时存在！</span><br><span class="line">~~~</span><br><span class="line"></span><br><span class="line">**压缩**</span><br><span class="line"></span><br><span class="line">tar -zcvf 打包及压缩（gzip方式）</span><br><span class="line">将abc目录的内容打包压缩为abc.tar.gz</span><br><span class="line">  [root@localhost ~]# ll</span><br><span class="line">  drwxrwxrwx. 3 root root   17 Mar 29 14:24 abc</span><br><span class="line">  [root@localhost ~]# tar -zcvf abc.tar.gz abc</span><br><span class="line">  [root@localhost ~]# ll</span><br><span class="line">  drwxrwxrwx. 3 root root   17 Mar 29 14:24 abc</span><br><span class="line">  -rw-r--r--. 1 root root  130 Mar 29 15:24 abc.tar.gz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**解压**</span><br><span class="line">tar -zxvf 解压（gzip包）</span><br><span class="line">tar -zxvf abc.tar.gz</span><br></pre></td></tr></table></figure>

<h2 id="which-whereis-find-locate"><a href="#which-whereis-find-locate" class="headerlink" title="which | whereis | find | locate"></a>which | whereis | find | locate</h2><h3 id="which"><a href="#which" class="headerlink" title="which"></a>which</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">which命令的作用是，在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。</span><br><span class="line"></span><br><span class="line">[root@bigdata01 /]# which hdfs</span><br><span class="line">/data/soft/hadoop-3.2.0/bin/hdfs</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 /]# which hadoop</span><br><span class="line">/data/soft/hadoop-3.2.0/bin/hadoop</span><br></pre></td></tr></table></figure>



<h3 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">whereis命令用于搜索程序的二进制文件，源代码文件或帮助文档。例如：</span><br><span class="line"></span><br><span class="line">[root@bigdata01 /]# whereis grep</span><br><span class="line">grep: /usr/bin/grep /usr/share/man/man1/grep.1.gz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">whereis ls #如果上述三者有，则三者都会显示。</span><br><span class="line">ls: /bin/ls /usr/share/man/man1/ls.1.gz</span><br><span class="line"></span><br><span class="line">whereis -m ls #只查看ls的帮助手册</span><br><span class="line">ls: /usr/share/man/man1/ls.1.gz</span><br><span class="line"></span><br><span class="line">whereis -b ls #只查找ls的二进制文件</span><br><span class="line">ls: /bin/ls</span><br><span class="line"></span><br><span class="line">whereis stdio.h #查找stdio.h头文件，和帮助手册</span><br><span class="line">stdio: /usr/include/stdio.h /usr/share/man/man3/stdio.3.gz</span><br></pre></td></tr></table></figure>

<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><h4 id="以名称为条件"><a href="#以名称为条件" class="headerlink" title="以名称为条件"></a><strong>以名称为条件</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> find / -name guava*</span><br><span class="line"> </span><br><span class="line">find是最常见和最强大的查找命令，你可以用它找到任何你想找的文件。</span><br><span class="line">find的使用格式如下：</span><br><span class="line">　　$ find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定动作&gt;</span><br><span class="line">　　- &lt;指定目录&gt;： 所要搜索的目录及其所有子目录。默认为当前目录。</span><br><span class="line">　　- &lt;指定条件&gt;： 所要搜索的文件的特征。</span><br><span class="line">　　- &lt;指定动作&gt;： 对搜索结果进行特定的处理。</span><br><span class="line">　　</span><br><span class="line"></span><br><span class="line">find的使用实例：</span><br><span class="line">　　$ find . -name &quot;my*&quot;</span><br><span class="line">搜索当前目录（含子目录，以下同）中，所有文件名以my开头的文件。</span><br><span class="line">　　$ find . -name &quot;my*&quot; -ls</span><br><span class="line">搜索当前目录中，所有文件名以my开头的文件，并显示它们的详细信息。</span><br><span class="line">　　$ find . -type f -mmin -10</span><br><span class="line">搜索当前目录中，所有过去10分钟中更新过的普通文件。</span><br></pre></td></tr></table></figure>

<h4 id="以权限为条件"><a href="#以权限为条件" class="headerlink" title="以权限为条件"></a>以权限为条件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">有时候需要查找特定权限的文件，可以使用-perm参数，例如查找当前目录下权限为777的文件：</span><br><span class="line"></span><br><span class="line">find ./ -perm 777</span><br><span class="line">./test</span><br><span class="line">./sort.txt</span><br></pre></td></tr></table></figure>

<h4 id="以文件类型为条件"><a href="#以文件类型为条件" class="headerlink" title="以文件类型为条件"></a>以文件类型为条件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">涉及参数-type，例如要查找当前目录下的符号链接文件：</span><br><span class="line"></span><br><span class="line">find ./ -type l</span><br><span class="line">./test</span><br><span class="line">ls -al test</span><br><span class="line">lrwxrwxrwx 1 hyb hyb 8 11月 24 10:10 test -&gt; home.zip</span><br><span class="line">主要类型有：</span><br><span class="line"></span><br><span class="line">f 普通文件</span><br><span class="line">d 目录</span><br><span class="line">b 块设备文件</span><br><span class="line">c 字符设备文件</span><br><span class="line">l 符号链接</span><br><span class="line">s 套接字</span><br><span class="line">p 管道文件</span><br></pre></td></tr></table></figure>

<h4 id="以文件大小为条件"><a href="#以文件大小为条件" class="headerlink" title="以文件大小为条件"></a>以文件大小为条件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">涉及参数-size，例如：</span><br><span class="line"></span><br><span class="line">find ./ -size 1k #查找当前目录下小于1k的文件</span><br><span class="line">./test</span><br><span class="line">./sort4.txt</span><br><span class="line">./sort2.txt</span><br><span class="line">./sort3.txt</span><br><span class="line">./test.sh</span><br><span class="line">./sort.txt</span><br><span class="line">find -size +1M #查找当前目录下大于1M的文件</span><br><span class="line">./test.zip</span><br><span class="line">常用单位有：</span><br><span class="line"></span><br><span class="line">k 千字节</span><br><span class="line">M 兆字节</span><br><span class="line">G 吉字节</span><br><span class="line">c 字节</span><br><span class="line">b 块，一般为512字节</span><br><span class="line">w 字大小，两个字节</span><br></pre></td></tr></table></figure>

<h4 id="以归属为条件"><a href="#以归属为条件" class="headerlink" title="以归属为条件"></a>以归属为条件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">涉及参数-user，-nouser，-group，-nogroup等，例如：</span><br><span class="line"></span><br><span class="line">find ./ -user root #查找当前目录下root用户的文件</span><br><span class="line">find ./ -nouser #查找当前目录下root用户的被删除的文件</span><br><span class="line"></span><br><span class="line">-group，-nogroup类似的用法，只不过条件是用户组。</span><br></pre></td></tr></table></figure>

<h4 id="以时间为条件"><a href="#以时间为条件" class="headerlink" title="以时间为条件"></a>以时间为条件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">涉及参数-mtime，-atime，-ctime，-newer，-anewer，-cnewer，-amin，-cmin等，例如：</span><br><span class="line"></span><br><span class="line">find ./ -mtime 3 #查找3天前更改过的文件</span><br><span class="line">find ./ -mtime -3 #查找3天内更改过的文件</span><br><span class="line">find ./ -mtime 0 #查找今天更改过的文件</span><br><span class="line">find ./ -newer sort.txt #查找比sort.txt修改时间更新的文件</span><br><span class="line">find ./ -anewer sort.txt #查找比sort.txt访问时间更新的文件</span><br><span class="line">find ./ -amin 5 #查找5分钟之前访问过的文件</span><br><span class="line">注：</span><br><span class="line"></span><br><span class="line">atime 最后访问时间</span><br><span class="line">mtime 最后修改时间</span><br><span class="line">ctime 最后修改时间，这里包括属性和权限</span><br></pre></td></tr></table></figure>

<h2 id="Shell-文件包含"><a href="#Shell-文件包含" class="headerlink" title="Shell 文件包含"></a>Shell 文件包含</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">可以将一些通用的功能放在单独的脚本文件中，然后在需要的地方包含它们，以提高代码的模块化和可重用性。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 这是脚本1.sh的内容</span><br><span class="line">echo &quot;这是脚本1.sh&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 这是脚本2.sh的内容</span><br><span class="line">echo &quot;这是脚本2.sh&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">现在，你可以创建一个主脚本，将这两个文件包含进来。 主脚本.sh:</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 包含脚本1.sh</span><br><span class="line">source 脚本1.sh</span><br><span class="line"></span><br><span class="line"># 或者使用 . 操作符</span><br><span class="line"># . 脚本1.sh</span><br><span class="line"></span><br><span class="line"># 包含脚本2.sh</span><br><span class="line">source 脚本2.sh</span><br><span class="line"></span><br><span class="line"># 主脚本的内容</span><br><span class="line">echo &quot;这是主脚本&quot;</span><br><span class="line"></span><br><span class="line"># 运行脚本1.sh和脚本2.sh中的命令</span><br></pre></td></tr></table></figure>



<h2 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate命令其实是“find -name”的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是搜索一个数据库（/var/lib/locatedb），这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">locate命令的使用实例：</span><br><span class="line">　　$ locate /etc/sh</span><br><span class="line">搜索etc目录下所有以sh开头的文件。</span><br><span class="line">　　$ locate ~/m</span><br><span class="line">搜索用户主目录下，所有以m开头的文件。</span><br><span class="line">　　$ locate -i ~/m</span><br><span class="line">搜索用户主目录下，所有以m开头的文件，并且忽略大小写。</span><br></pre></td></tr></table></figure>

<h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">window NTFS</span><br><span class="line">小容量u盘 FAT32</span><br><span class="line">linux  EXT2 EXT3 EXT4 XFS</span><br><span class="line">EXT2 第二扩展文件系统</span><br><span class="line">EXT3 第三扩展文件系统 引入日志</span><br><span class="line">EXT4 第四扩展文件系统 </span><br><span class="line">XFS 新版linux默认文件系统类型</span><br></pre></td></tr></table></figure>





<h2 id="shell脚本系统学习"><a href="#shell脚本系统学习" class="headerlink" title="shell脚本系统学习"></a>shell脚本系统学习</h2><h3 id="shell概述-了解"><a href="#shell概述-了解" class="headerlink" title="shell概述 了解"></a>shell概述 了解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">大数据程序员为什么要学习She11呢?。</span><br><span class="line">1)需要看懂运维人员编写的 She11 程序。</span><br><span class="line">2)偶尔会编写一些简单 she11程序来管理集群、提高开发效率。~</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151000569.png" alt="image-20241015100054448"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Shell是一个命令行解释器，它接收应用程序/用户命令，然后调用操作系统内核。</span><br><span class="line"></span><br><span class="line">Shel1还是一个功能相当强大的编程语言，易编写、易调试.炅活性强。</span><br><span class="line"></span><br><span class="line">python是它的一个强劲对手，python比它可读性好，发布时间晚，结合优点去除缺点。</span><br></pre></td></tr></table></figure>

<h3 id="shell解释器-了解"><a href="#shell解释器-了解" class="headerlink" title="shell解释器 了解"></a>shell解释器 了解</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410160156873.png" alt="image-20241016015635749"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">查看shell支持哪些解释器</span><br><span class="line">&gt;&gt;cat /etc/shells</span><br><span class="line">/bin/sh</span><br><span class="line">/bin/bash</span><br><span class="line">/usr/bin/sh</span><br><span class="line">/usr/bin/bash</span><br><span class="line">常用的是上面sh bash两种</span><br><span class="line"></span><br><span class="line">查看默认使用的哪种解释器</span><br><span class="line">&gt;&gt;echo $SHELL</span><br><span class="line">/bin/bash</span><br><span class="line"></span><br><span class="line">查看bash和shell解释器的关系</span><br><span class="line">ll /bin | grep bash</span><br><span class="line">sh-&gt;bash</span><br><span class="line">sh解释器最终调用的还是bash</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151011439.png" alt="image-20241015101138211"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151012135.png" alt="image-20241015101246908"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151016797.png" alt="image-20241015101623428"></p>
<h3 id="shell脚本入门"><a href="#shell脚本入门" class="headerlink" title="shell脚本入门"></a>shell脚本入门</h3><h4 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">touch ~/myshells/helloworld.sh</span><br><span class="line">cd ~/myshells</span><br><span class="line"></span><br><span class="line">vi helloworld.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;hello world&quot;</span><br><span class="line"></span><br><span class="line">&gt;&gt;sh helloworld.sh</span><br><span class="line">hello world</span><br><span class="line">&gt;&gt;bash helloworld.sh</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151030355.png" alt="image-20241015103034054"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--. 1 root root 31 Oct 15 10:30 helloworld.sh</span><br><span class="line"></span><br><span class="line">&gt;&gt;./helloworld.sh</span><br><span class="line"></span><br><span class="line">-bash: ./helloworld.sh: Permission denied</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151031064.png" alt="image-20241015103147997"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;chmod 777 helloworld.sh</span><br><span class="line">&gt;&gt;./helloworld.sh</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151034250.png" alt="image-20241015103412999"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意:第一种执行方法，本质是bash解析器帮你执行脚本，所以脚本本身不需要执行权限。第二种执行方法，本质是脚本需要自己执行，所以需要执行权限</span><br></pre></td></tr></table></figure>

<h4 id="多命令处理"><a href="#多命令处理" class="headerlink" title="多命令处理"></a>多命令处理</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在~/myshells/data日录下创建一个data.txt,在data.txt文件中增加“hello world”</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">mkdir ~/myshells/data</span><br><span class="line">echo &quot;hello world&quot; &gt;&gt; ~/myshells/data/data.txt</span><br></pre></td></tr></table></figure>









<h3 id="shell中的变量"><a href="#shell中的变量" class="headerlink" title="shell中的变量"></a>shell中的变量</h3><h4 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$PWD $SHELL $HOME $USER</span><br></pre></td></tr></table></figure>



<h4 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h4><h5 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">变量=值 等号两边不能有空格</span><br><span class="line"></span><br><span class="line">&gt;&gt;A=2</span><br><span class="line">&gt;&gt;echo $A</span><br></pre></td></tr></table></figure>

<h5 id="撤销变量"><a href="#撤销变量" class="headerlink" title="撤销变量"></a>撤销变量</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151107139.png" alt="image-20241015110711835"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;unset A</span><br><span class="line">&gt;&gt;echo $A</span><br></pre></td></tr></table></figure>

<h5 id="声明静态变量"><a href="#声明静态变量" class="headerlink" title="声明静态变量"></a>声明静态变量</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">readonly B=5 不能撤销</span><br><span class="line">echo $B</span><br><span class="line">unset B</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151109826.png" alt="image-20241015110947743"></p>
<h5 id="变量名定义规则"><a href="#变量名定义规则" class="headerlink" title="变量名定义规则"></a>变量名定义规则</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(1)变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。</span><br><span class="line">(2)等号两侧不能有空格</span><br><span class="line">(3)在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。</span><br><span class="line">(4)变量的值如果有空格，需要使用双引号或单引号括起来。</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151113733.png" alt="image-20241015111327284"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;echo 1+1</span><br><span class="line">1+1</span><br><span class="line">&gt;&gt;C=1+1</span><br><span class="line">&gt;&gt;echo $C</span><br><span class="line">1+1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151114302.png" alt="image-20241015111457155"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;echo I love her</span><br><span class="line">I love her</span><br><span class="line">&gt;&gt;echo &quot;I love her&quot;</span><br><span class="line">I love her</span><br><span class="line">&gt;&gt;E=I love her</span><br><span class="line">报错</span><br><span class="line">&gt;&gt;E=&quot;I love her&quot;</span><br><span class="line">&gt;&gt;echo $E</span><br><span class="line">I love her</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151118230.png" alt="image-20241015111836814"></p>
<h5 id="局部变量提升为全局变量"><a href="#局部变量提升为全局变量" class="headerlink" title="局部变量提升为全局变量"></a>局部变量提升为全局变量</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">可把变量提升为全局环境变量，可供其他She11程序使用</span><br><span class="line"></span><br><span class="line">如java_home hadoop_home</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;E=&quot;I love her&quot;</span><br><span class="line">&gt;&gt;vi globalvariabls.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo $E</span><br><span class="line">&gt;&gt;sh globalvariabls.sh</span><br><span class="line">空</span><br><span class="line">&gt;&gt;export E</span><br><span class="line">&gt;&gt;sh globalvariabls.sh</span><br><span class="line">I love her</span><br></pre></td></tr></table></figure>

<h4 id="特殊变量"><a href="#特殊变量" class="headerlink" title="特殊变量"></a>特殊变量</h4><h5 id="n"><a href="#n" class="headerlink" title="$n"></a>$n</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1-9个参数用$n</span><br><span class="line">&gt;10个参数用$&#123;n&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vi parameters.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;$0 $1 $2 $3&quot;</span><br><span class="line"></span><br><span class="line">&gt;&gt; sh parameters.sh i love her</span><br><span class="line">parameters.sh i love her</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151402065.png" alt="image-20241015140218869"></p>
<h5 id=""><a href="#" class="headerlink" title="$#"></a>$#</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S#	(功能描述:获取所有输入参数个数，常用于循环)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi parameters.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;$0 $1 $2 $3&quot;</span><br><span class="line">echo $#</span><br><span class="line"></span><br><span class="line">&gt;&gt; sh parameters.sh i love her</span><br><span class="line">parameters.sh i love her</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h5 id="和-1"><a href="#和-1" class="headerlink" title="$*和$@"></a>$*和$@</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$* (功能描述:这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体)</span><br><span class="line">$# (功能描述:这个变量也代表命令行中所有的参数,不过S@把每个参数区分对待)。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi parameters.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;$0 $1 $2 $3&quot;</span><br><span class="line">echo $#</span><br><span class="line">echo $*</span><br><span class="line">echo $@</span><br><span class="line"></span><br><span class="line">&gt;&gt;sh parameters.sh</span><br><span class="line">parameters.sh i love her</span><br><span class="line">3</span><br><span class="line">i love her</span><br><span class="line">i love her</span><br></pre></td></tr></table></figure>

<h5 id="-1"><a href="#-1" class="headerlink" title="$?"></a>$?</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$? (功能描述:最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行;如果这个变量的值为非0(具体是哪个数，由命令自己来决定)，则证明上一个命令执行不正确了。)“</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410151417094.png" alt="image-20241015141716716"></p>
<h5 id="！"><a href="#！" class="headerlink" title="$！"></a>$！</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最近的后台命令PID</span><br></pre></td></tr></table></figure>

<h5 id="？？"><a href="#？？" class="headerlink" title="$？？"></a>$？？</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">最近的前台退出状态。</span><br></pre></td></tr></table></figure>

<h5 id="-2"><a href="#-2" class="headerlink" title="$$"></a>$$</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">如何打印当前shell的PID？</span><br><span class="line">echo $$</span><br></pre></td></tr></table></figure>

<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(1)“$((运算式))”或“$[运算式]”</span><br><span class="line">(2)expr +,-,\*,/,%  加，减，乘，除，取余。</span><br><span class="line"></span><br><span class="line">注意:expr 运算符间要有空格</span><br></pre></td></tr></table></figure>

<h4 id="加"><a href="#加" class="headerlink" title="加"></a>加</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;expr 2+3</span><br><span class="line">2+3</span><br><span class="line">&gt;&gt;expr 2 +3</span><br><span class="line">expr: syntax error</span><br><span class="line">&gt;&gt;expr 2+ 3</span><br><span class="line">expr: syntax error</span><br><span class="line">&gt;&gt;expr 2 + 3</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h4 id="乘"><a href="#乘" class="headerlink" title="乘"></a>乘</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;expr `expr 2 + 3` \* 5</span><br><span class="line"></span><br><span class="line">``表示执行里面的东西</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;echo $[(2+3)*5]</span><br><span class="line">25</span><br></pre></td></tr></table></figure>

<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><h4 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ condition ](注意 condition 前后要有空格)</span><br><span class="line"></span><br><span class="line">注意:条件非空即为true，[atguigu]返回 true,[]返回 false。</span><br></pre></td></tr></table></figure>

<h4 id="常用判断条件"><a href="#常用判断条件" class="headerlink" title="常用判断条件"></a>常用判断条件</h4><h5 id="两个整数比较"><a href="#两个整数比较" class="headerlink" title="两个整数比较"></a>两个整数比较</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">比较运算符左右也要有空格</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">= 字符串比较    </span><br><span class="line">-lt 小于(less than)</span><br><span class="line">-le 小于等于(less equal)</span><br><span class="line">-gt  大于(greater than)</span><br><span class="line">-ge  大于等于(greater equal)</span><br><span class="line">-ne  不等于(not equal)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;[ 23&gt;22 ]  比较运算符左右也要有空格</span><br><span class="line">&gt;&gt;echo $?</span><br><span class="line">1</span><br><span class="line">&gt;&gt;[ 23 &gt; 22 ]</span><br><span class="line">&gt;&gt;echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;[ 23 -lt 22 ]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;请输入一个数字: &quot; num</span><br><span class="line"></span><br><span class="line">if [ $num -eq 0 ]; then</span><br><span class="line">    echo &quot;输入的数字是零&quot;</span><br><span class="line">elif [ $num -gt 0 ]; then</span><br><span class="line">    echo &quot;输入的数字是正数&quot;</span><br><span class="line">else</span><br><span class="line">    echo &quot;输入的数字是负数&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h5 id="按照文件权限进行判断"><a href="#按照文件权限进行判断" class="headerlink" title="按照文件权限进行判断"></a>按照文件权限进行判断</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-r 有读的权限(read)</span><br><span class="line">-w 有写的权限(write)</span><br><span class="line">-x 有执行的权限(execute)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;[ -w helloworld.sh ]</span><br><span class="line">&gt;&gt;$?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h5 id="按照文件类型进行判断"><a href="#按照文件类型进行判断" class="headerlink" title="按照文件类型进行判断"></a>按照文件类型进行判断</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-f 文件存在并且是一个常规的文件(fle)</span><br><span class="line">-e 文件存在(existence)</span><br><span class="line">-d 文件存在并是一个目录(directory)。</span><br><span class="line">-s 文件：检查文件是否不为空（即文件大小是否大于零）</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">如何检查文件系统中是否存在某个文件 ?</span><br><span class="line"></span><br><span class="line">if [ -f /var/log/messages ]</span><br><span class="line">then</span><br><span class="line">b &quot;File exists&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;[ -e ~/myshells/helloworld.sh ]</span><br><span class="line">&gt;&gt;echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<h5 id="判断字符串是否为空"><a href="#判断字符串是否为空" class="headerlink" title="判断字符串是否为空"></a>判断字符串是否为空</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-n 字符串：检查字符串是否非空。 -z 字符串：检查字符串是否为空。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if [ -n &quot;Alice&quot; ]; then</span><br><span class="line">    echo &quot;姓名是Alice&quot;</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h4 id="多条件判断"><a href="#多条件判断" class="headerlink" title="多条件判断"></a>多条件判断</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令</span><br><span class="line">|| 表示上一条命令执行失败后，才执行下一条命令</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;[ xxxx ] &amp;&amp; echo ok || echo &quot;not ok&quot;</span><br><span class="line">&gt;&gt;ok</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;[ xxxx ] $$ [] || echo &quot;not ok&quot;</span><br><span class="line">&gt;&gt;not ok</span><br></pre></td></tr></table></figure>

<h3 id="流程控制-重点"><a href="#流程控制-重点" class="headerlink" title="流程控制 重点"></a>流程控制 重点</h3><h4 id="if判断"><a href="#if判断" class="headerlink" title="if判断"></a>if判断</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断表达式 ];then</span><br><span class="line">	xxx</span><br><span class="line">elif [ 其他条件 ];then</span><br><span class="line">	xxx</span><br><span class="line">else</span><br><span class="line">	xxx</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">注意事项:</span><br><span class="line">(1)[ 条件判断式 ],括号和条件判断式之间必须有空格</span><br><span class="line">(2)if后要有空格</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;touch if.sh</span><br><span class="line">&gt;&gt;vim if.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">if [ $1 -eq 1 ]</span><br><span class="line">	then</span><br><span class="line">		echo &quot;I love her&quot;</span><br><span class="line">elif [ $1 -eq 2 ]</span><br><span class="line">	then </span><br><span class="line">		echo &quot;she love me&quot;</span><br><span class="line">else</span><br><span class="line">	then</span><br><span class="line">		xxx</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h4 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">	&quot;值1&quot;)</span><br><span class="line">    xxxx</span><br><span class="line">    ;;     --相当于java中的break</span><br><span class="line">    &quot;值2&quot;)</span><br><span class="line">    xxxx</span><br><span class="line">    ;;</span><br><span class="line">    ...</span><br><span class="line">    *)       --相当于java中的default</span><br><span class="line">    xxxx</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;touch case.sh</span><br><span class="line">&gt;&gt;vim case.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">case $1 in</span><br><span class="line">1)</span><br><span class="line">	echo &quot;i love her&quot;</span><br><span class="line">;;</span><br><span class="line">2)</span><br><span class="line">	echo &quot;she love me&quot;</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">	echo &quot;don&#x27;t love&quot;</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<h4 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h4><h5 id="for"><a href="#for" class="headerlink" title="for"></a>for</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for((初始值;循环控制条件;变量变化))</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3...</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">for fruit in apple banana cherry; do</span><br><span class="line">    echo &quot;水果: $fruit&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;touch for.sh</span><br><span class="line">&gt;&gt;vim for.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">s=0</span><br><span class="line">for((i=0;i&lt;=100;i++))</span><br><span class="line">do</span><br><span class="line">	s=$[$s+$i]</span><br><span class="line">done</span><br><span class="line">echo $s</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i in &#123;1..254&#125;</span><br><span class="line">do</span><br><span class="line"></span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">for i in $(seq -w 1 30)</span><br><span class="line">do</span><br><span class="line"></span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">使用 seq -w 1 30 生成从 01 到 30 的数字序列。-w 选项确保序列中的数字被格式化为两位数，即 01, 02, …, 30。</span><br><span class="line"></span><br><span class="line">01</span><br><span class="line">02</span><br><span class="line">03</span><br><span class="line">04</span><br><span class="line">05</span><br><span class="line">06</span><br><span class="line">07</span><br><span class="line">08</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for i in &#123;0..100..3&#125;; do echo $i; done</span><br><span class="line">or</span><br><span class="line">for (( i=0; i&lt;=100; i=i+3 )); do echo &quot;Welcome $i times&quot;; done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for i in /etc/profile.d/*.sh /etc/profile.d/sh.local ; do</span><br><span class="line">    if [ -r &quot;$i&quot; ]; then</span><br></pre></td></tr></table></figure>



<h5 id="for-in"><a href="#for-in" class="headerlink" title="for in $* $@"></a>for in $* $@</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for in和$*和$@一起用</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;vim forin.sh</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">for i in $*</span><br><span class="line">do</span><br><span class="line">	echo &quot;i love $i&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for i in $@</span><br><span class="line">do</span><br><span class="line">	echo &quot;i love $i&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;-------&quot;</span><br><span class="line"></span><br><span class="line">for i in &quot;$*&quot;</span><br><span class="line">do</span><br><span class="line">	echo &quot;i love $i&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for i in &quot;$@&quot;</span><br><span class="line">do</span><br><span class="line">	echo &quot;i love $i&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# sh forin.sh 1</span><br><span class="line">i love 1</span><br><span class="line">i love 1</span><br><span class="line">-------</span><br><span class="line">i love 1</span><br><span class="line">i love 1</span><br><span class="line">[root@bigdata02 myshells]# sh forin.sh 1 2 3</span><br><span class="line">i love 1</span><br><span class="line">i love 2</span><br><span class="line">i love 3</span><br><span class="line">i love 1</span><br><span class="line">i love 2</span><br><span class="line">i love 3</span><br><span class="line">-------</span><br><span class="line">i love 1 2 3</span><br><span class="line">i love 1</span><br><span class="line">i love 2</span><br><span class="line">i love 3</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for i in $(ls); do ... done 循环来遍历当前目录下的文件和目录是一个常见的做法</span><br><span class="line"></span><br><span class="line">for i in $(ls);do</span><br><span class="line">echo item:$i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h4 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件表达式 ]</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi while.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">s=0</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">do</span><br><span class="line">	s=$[$s + $i]</span><br><span class="line">	i=$[$i + 1]</span><br><span class="line">done</span><br><span class="line">echo $s</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在 Bash 中，当你使用 let 命令来执行算术运算时，你不需要在变量名前加 $ 符号来引用变量的值</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">COUNTER=0</span><br><span class="line">while [ $COUNTER -lt 10 ]; do</span><br><span class="line">echo The counter is $COUNTER</span><br><span class="line">let COUNTER=COUNTER+1</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash  </span><br><span class="line">  </span><br><span class="line">COUNTER=0  </span><br><span class="line">  </span><br><span class="line">while [ $COUNTER -lt 10 ]; do  </span><br><span class="line">    echo &quot;The counter is $COUNTER&quot;  </span><br><span class="line">    COUNTER=$((COUNTER + 1))  </span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h4 id="until循环"><a href="#until循环" class="headerlink" title="until循环"></a>until循环</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">COUNTER=20</span><br><span class="line">until [ $COUNTER -lt 10 ]; do</span><br><span class="line">echo COUNTER $COUNTER</span><br><span class="line">let COUNTER-=1</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h3 id="函数-了解"><a href="#函数-了解" class="headerlink" title="函数 了解"></a>函数 了解</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell开发工程师需要重点掌握</span><br></pre></td></tr></table></figure>

<h4 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h4><h5 id="basename基本语法"><a href="#basename基本语法" class="headerlink" title="basename基本语法"></a>basename基本语法</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">basename [string/pathname][suffix]</span><br><span class="line">(功能描述:basename命令会删掉所有的前缀包括最后一个(&#x27;/&#x27;)字符，然后将字符串显示出来。</span><br><span class="line">选项:</span><br><span class="line">suffix为后缀,如果suffix被指定了,basename会将pathname和suffix中的suffix去掉。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# basename /root/myshells/read.sh</span><br><span class="line">read.sh</span><br><span class="line">[root@bigdata02 myshells]# basename /root/myshells/for.sh </span><br><span class="line">for.sh</span><br><span class="line">[root@bigdata02 myshells]# basename /root/myshells/for.sh .sh</span><br><span class="line">for</span><br><span class="line">[root@bigdata02 myshells]# basename /root/myshells/read.sh .sh</span><br><span class="line">read</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# basename `pwd`/for.sh</span><br><span class="line">for.sh</span><br></pre></td></tr></table></figure>

<h5 id="dirname基本语法"><a href="#dirname基本语法" class="headerlink" title="dirname基本语法"></a>dirname基本语法</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dirname 文件绝对路径</span><br><span class="line"></span><br><span class="line">(功能描述:从给定的包含绝对路径的文件名中去除文件名</span><br><span class="line">(非目录的部分)，多然后返回剩下的路径(目录的部分))”</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# dirname /root/myshells/for.sh</span><br><span class="line">/root/myshells</span><br><span class="line">[root@bigdata02 myshells]# dirname `pwd`/while.sh</span><br><span class="line">/root/myshells</span><br></pre></td></tr></table></figure>

<h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[function] funname[()]</span><br><span class="line">&#123;</span><br><span class="line">	Action;</span><br><span class="line">	[return int;]</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line">funname</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 定义一个简单的函数</span><br><span class="line">my_function() &#123;</span><br><span class="line">  echo &quot;这是一个自定义的Shell函数&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 调用函数</span><br><span class="line">my_function</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 定义一个带参数的函数</span><br><span class="line">greet() &#123;</span><br><span class="line">  local name=&quot;$1&quot;</span><br><span class="line">  echo &quot;Hello, $name!&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 调用函数，并传递参数</span><br><span class="line">greet &quot;Alice&quot;</span><br><span class="line">greet &quot;Bob&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(1)必须在调用函数地方之前，</span><br><span class="line">先声明函数，shell 脚本是逐行运行。不会像其它语言样先编译。</span><br><span class="line">2)函数返回值，只能通过$?系统变量获得，可以显示加:retun返回，如果不加，将以最后一条命令运行结果，作为返回值。retuin后跟数值 n(0-255)。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi function.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">function sum()</span><br><span class="line">&#123;</span><br><span class="line">	s=0</span><br><span class="line">	s=$[$1 + $2]</span><br><span class="line">	echo $s</span><br><span class="line">&#125;</span><br><span class="line">read -p &quot;输入参数1的值:&quot; para1</span><br><span class="line">read -p &quot;输入参数2的值:&quot; para2</span><br><span class="line"></span><br><span class="line">sum para1 para2</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# sh function.sh </span><br><span class="line">输入参数1的值:8</span><br><span class="line">输入参数2的值:10</span><br><span class="line">18</span><br></pre></td></tr></table></figure>

<h3 id="shell工具-重点"><a href="#shell工具-重点" class="headerlink" title="shell工具 重点"></a>shell工具 重点</h3><h4 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut 的工作就是“剪”,具体的说就是在文件中负责剪切数据用的。cut 命令从文件的每行剪切字节、字符和字段并将这些字节、字符和字段输出。。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cut [选项参数] filename </span><br><span class="line">说明:默认分隔符是制表符</span><br><span class="line"></span><br><span class="line">-f (分割后取第几列，或者几列)</span><br><span class="line">-d 分隔符(只能是单个字符)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi cutdata.txt</span><br><span class="line">he love her</span><br><span class="line">wangming  love  xiaohong</span><br><span class="line">liming  love xiaofang</span><br><span class="line">i love you</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# cut -d &quot; &quot; -f 1 ./data/cutdata.txt </span><br><span class="line">he</span><br><span class="line">wangming</span><br><span class="line">liming</span><br><span class="line">i</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# cut -d &quot; &quot; -f 2 ./data/cutdata.txt</span><br><span class="line">love</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">love</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# cut -d &quot; &quot; -f 3 ./data/cutdata.txt</span><br><span class="line">her</span><br><span class="line">love</span><br><span class="line">love</span><br><span class="line">you</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# cut -d &quot; &quot; -f 2,3 ./data/cutdata.txt</span><br><span class="line">love her</span><br><span class="line"> love</span><br><span class="line"> love</span><br><span class="line">love you</span><br></pre></td></tr></table></figure>

<h5 id="cut结合-grep"><a href="#cut结合-grep" class="headerlink" title="cut结合| grep"></a>cut结合| grep</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;<span class="built_in">cat</span> ./data/cutdata.txt | grep wangming</span></span><br><span class="line">wangming  love  xiaohong</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">&gt;<span class="built_in">cat</span> ./data/cutdata.txt | grep wangming | <span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 1</span></span><br><span class="line">wangming</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">切path</span><br><span class="line"></span><br><span class="line">&gt;&gt;echo $PATH | cut -d : -f 3</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# echo $PATH</span><br><span class="line">.:/data/soft/jdk1.8/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/data/soft/elasticsearch-8.11.4/bin:/data/soft/hadoop-3.2.0/bin:/root/bin</span><br><span class="line">[root@bigdata02 myshells]# echo $PATH | cut -d : -f 3-</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/data/soft/elasticsearch-8.11.4/bin:/data/soft/hadoop-3.2.0/bin:/root/bin</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">切出ip  这个也是看的我有点懵逼 首先切割符必须为单个字符，后面空格不规范时我就有点蒙蔽了</span><br><span class="line"></span><br><span class="line">还有ifconfig 返回的格式不一定一致</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata01 sbin]# ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.40.128  netmask 255.255.255.0  broadcast 192.168.40.255</span><br><span class="line">        inet6 fe80::3e1c:34f6:4005:5c0a  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:fd:a8:cc  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 25096  bytes 30857038 (29.4 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 5698  bytes 472199 (461.1 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 256  bytes 14336 (14.0 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 256  bytes 14336 (14.0 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">[root@bigdata01 sbin]# ipconfig ens33</span><br><span class="line">-bash: ipconfig: command not found</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 sbin]# ipconfig eth0</span><br><span class="line">-bash: ipconfig: command not found</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata01 sbin]# ifconfig eth0 </span><br><span class="line">eth0: error fetching interface information: Device not found</span><br><span class="line">[root@bigdata01 sbin]# ifconfig ens33</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.40.128  netmask 255.255.255.0  broadcast 192.168.40.255</span><br><span class="line">        inet6 fe80::3e1c:34f6:4005:5c0a  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:fd:a8:cc  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 25279  bytes 30872434 (29.4 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 5806  bytes 483871 (472.5 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line">        </span><br><span class="line">[root@bigdata01 sbin]# ifconfig ens33 | grep &quot;inet &quot;</span><br><span class="line">        inet 192.168.40.128  netmask 255.255.255.0  broadcast 192.168.40.255    </span><br><span class="line">        </span><br><span class="line">[root@bigdata01 sbin]# ifconfig ens33 | grep &quot;inet &quot; | cut -d &quot; &quot; -f 10</span><br><span class="line">192.168.40.128</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410161122776.png" alt="image-20241016112236755"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410161123798.png" alt="image-20241016112255988"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://raw.githubusercontent.com/ttyong/hexoBlog/master/%E5%B0%9A%E7%A1%85%E8%B0%B7%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%8A%80%E6%9C%AF%E4%B9%8B%E6%95%B0%E6%8D%AE%E6%B9%96Hudi/202410161123780.png" alt="image-20241016112324895"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">它这里使用的空格分割，避免了麻烦事</span><br></pre></td></tr></table></figure>

<h6 id="如何列出以-ab-或-xy-开头的用户名？"><a href="#如何列出以-ab-或-xy-开头的用户名？" class="headerlink" title="如何列出以 ab 或 xy 开头的用户名？"></a>如何列出以 ab 或 xy 开头的用户名？</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;^ab|^xy&quot; /etc/passwd|cut -d: -f1</span><br></pre></td></tr></table></figure>

<h4 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed 是一种流编辑器它一次处理一行内容处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间接着用 sed 命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。文件内容并没有改变，除接着处理下一行，这样不断重复，直到文件末尾。除非你使用重定向存储输出。”</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [选项参数] &#x27;command&#x27; filename</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-e</span><br><span class="line">直接在指令列模式上进行sed的动作编辑。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a 新增，a的后而可以接字串，在下一行出现($表示最后一行)</span><br><span class="line">i 新增 增加的内容在行前($表示最后一行)</span><br><span class="line">d 删除。</span><br><span class="line">s 查找并替换</span><br></pre></td></tr></table></figure>

<h5 id="增加"><a href="#增加" class="headerlink" title="增加"></a>增加</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原文件没改变</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# vi /data/seddata.txt</span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br><span class="line"></span><br><span class="line">&gt;&gt;vi sed.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">sed &#x27;2a mei nv&#x27; data/seddata.txt</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sh sed.sh </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">mei nv</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# cat data/seddata.txt </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;1a\haha&#x27; hello.txt 此操作会将数据添加到第一行下面(也就是第二行的位置)</span><br><span class="line">[root@localhost ~]# sed &#x27;0a\haha&#x27; hello.txt 此操作会报错，行号是从1开始的</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# sed &#x27;$i\haha&#x27; hello.txt</span><br></pre></td></tr></table></figure>



<h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;sed &#x27;/wo/d&#x27; data/seddata.txt</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sed &#x27;/wo/d&#x27; ./data/seddata.txt</span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# sed &#x27;7d&#x27; hello.txt  </span><br><span class="line">[root@localhost ~]# sed &#x27;$d&#x27; hello.txt   $参数，删除最后一行，更加便捷</span><br></pre></td></tr></table></figure>



<h5 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sed [address]s/pattern/replacement/flags</span><br><span class="line"></span><br><span class="line">g代表全局，不写只替换第一个</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;sed &#x27;s/wo/ni/g&#x27; data/seddata.txt</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sed &#x27;s/wo/ni/g&#x27; data/seddata.txt  </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">ni  ni</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata02 myshells]# cat data/seddata.txt </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo </span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;s/l/a/1&#x27; hello.txt  一行中匹配的第一次替换</span><br><span class="line">sed &#x27;s/l/a/2&#x27; hello.txt 一行中匹配的第2次替换</span><br><span class="line">sed &#x27;s/l/a/3&#x27; hello.txt 一行中匹配的第3次替换</span><br><span class="line">sed &#x27;s/l/a/g&#x27; hello.txt  全局替换</span><br><span class="line">sed &#x27;s/l/a/&#x27; hello.txt  一行中匹配的第一次替换</span><br><span class="line">上述是每一行只要满足要求，都会替换</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我们现在的替换操作都是会匹配文件中的所有行，如果我们只想替换指定行中的内容怎么办呢？只需要增加address 参数即可。</span><br><span class="line"> sed &#x27;2s/l/a/g&#x27; hello.txt 对第二行进行这种操作</span><br></pre></td></tr></table></figure>

<h5 id="i-修改源文件"><a href="#i-修改源文件" class="headerlink" title="-i 修改源文件"></a>-i 修改源文件</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">注意了，咱们前面所讲的sed命令的所有操作，在执行之后都不会修改源文件中的内容，这样只能作为测试，如果需要修改源文件的话，其实也很简单，只需要增加一个 -i 参数即可</span><br><span class="line">[root@localhost ~]# sed -i &#x27;2s/l/a/g&#x27; hello.txt </span><br></pre></td></tr></table></figure>



<h5 id="多语句"><a href="#多语句" class="headerlink" title="多语句"></a>多语句</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;sed -e &quot;2d&quot; -e &quot;s/wo/ni/g&quot; data/seddata.txt</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sed -e &quot;2d&quot; -e &quot;s/wo/ni/g&quot; data/seddata.txt</span><br><span class="line">dong shen</span><br><span class="line">ni  ni</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br><span class="line">You have new mail in /var/spool/mail/root</span><br><span class="line">[root@bigdata02 myshells]# cat data/seddata.txt                       </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br></pre></td></tr></table></figure>

<h4 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行分析处理。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">awk「选项参数] ‘patternl &#123;actionl&#125; pattern2 &#123;action2&#125;...’ filename.</span><br><span class="line"></span><br><span class="line">pattern:表示AWK在数据中查找的内容，就是匹配模式</span><br><span class="line">action:在找到匹配内容时所执行的一系列命令  </span><br><span class="line">注意:只有匹配了 pattemm 的行才会执行 actione。没有表达式时，表示都执行action</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-F 指定输入文件折分隔符(分隔符与F有无空格都可以)</span><br><span class="line">-v 赋值一个用户定义变量。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">取以root开头那一行，用:分隔 取第七列</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# cat /etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">sync:x:5:0:sync:/sbin:/bin/sync</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line">ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</span><br><span class="line">nobody:x:99:99:Nobody:/:/sbin/nologin</span><br><span class="line">systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin</span><br><span class="line">dbus:x:81:81:System message bus:/:/sbin/nologin</span><br><span class="line">polkitd:x:999:998:User for polkitd:/:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</span><br><span class="line">ntp:x:38:38::/etc/ntp:/sbin/nologin</span><br><span class="line">es:x:1000:1000::/home/es:/bin/bash</span><br><span class="line"></span><br><span class="line">&gt;&gt;cp /etc/passwd ~/myshells/data</span><br><span class="line">&gt;&gt;awk -F : &#x27;/^root/ &#123;print $7&#125;&#x27; ~/myshells/data/passwd</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# awk -F : &#x27;/^root/ &#123;print $7&#125;&#x27; ~/myshells/data/passwd</span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2)搜索 passwd 文件以 root 关键字开头的所有行，并输出该行的第1列和第7列，中间以,号分割。</span><br><span class="line"></span><br><span class="line">&gt;&gt;awk -F : &#x27;/^root/ &#123;print $1&quot;,&quot;$7&#125;&#x27; ~/myshells/data/passwd</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# awk -F : &#x27;/^root/ &#123;print $1&quot;,&quot;$7&#125;&#x27; ~/myshells/data/passwd</span><br><span class="line">root,/bin/bash</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">还有一个特殊的 $0 它代表整个文本行的内容</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# awk &#x27;&#123;print $0&#125;&#x27; hello.txt  </span><br><span class="line">hello world!</span><br><span class="line">heaao worad!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">abc</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">如果我们只想对某一列数据进行匹配呢？</span><br><span class="line">awk &#x27;($1 ~ /world/) &#123;print $1&#125;&#x27; hello.txt 在这里面可以通过$来指定具体是哪一列，需要把具体的对比逻辑放到小括号里面</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# awk &#x27;($1 ~ /world/) &#123;print $0&#125;&#x27; hello.txt    </span><br><span class="line">[root@localhost ~]# awk &#x27;($2 ~ /world/) &#123;print $0&#125;&#x27; hello.txt  </span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# awk &#x27;($2 ~ /wor[a-z]d/) &#123;print $0&#125;&#x27; hello.txt  </span><br><span class="line">hello world!</span><br><span class="line">heaao worad!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line"></span><br><span class="line">注意：这里如果是不匹配的意思的话需要使用 !~</span><br></pre></td></tr></table></figure>

<h5 id="获取一个文件每一行的第三个元素"><a href="#获取一个文件每一行的第三个元素" class="headerlink" title="获取一个文件每一行的第三个元素 ?"></a>获取一个文件每一行的第三个元素 ?</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">awk的基本格式：awk [option] programe file</span><br><span class="line"></span><br><span class="line">这里的option是一个可选项，一般在这里来指定文件中数据的字段分隔符</span><br><span class="line">programe 是具体的处理逻辑</span><br><span class="line">file表示我们要操作的文件</span><br><span class="line"></span><br><span class="line">awk -F , &#x27;&#123;PRINT $3&#125;&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://tianyong.fun/linux%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4%E5%92%8C%E5%BC%82%E5%B8%B8.html</span><br></pre></td></tr></table></figure>

<h5 id="假如文件中某行第一个元素是-FIND，如何获取第二个元素"><a href="#假如文件中某行第一个元素是-FIND，如何获取第二个元素" class="headerlink" title="假如文件中某行第一个元素是 FIND，如何获取第二个元素"></a>假如文件中某行第一个元素是 FIND，如何获取第二个元素</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">awk&#x27;&#123; if ($1 == &quot;FIND&quot;) print $2&#125;&#x27;</span><br><span class="line"></span><br><span class="line">awk &#x27;^/FIND/ &#123;PRINT $2&#125;&#x27;</span><br></pre></td></tr></table></figure>

<h5 id="如何使用-awk-列出-UID-小于-100-的用户"><a href="#如何使用-awk-列出-UID-小于-100-的用户" class="headerlink" title="如何使用 awk 列出 UID 小于 100 的用户 ?"></a>如何使用 awk 列出 UID 小于 100 的用户 ?</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F: &#x27;$3&lt;100&#x27; &lt; /etc/passwd</span><br></pre></td></tr></table></figure>

<h5 id="BEGIN-END"><a href="#BEGIN-END" class="headerlink" title="BEGIN END"></a>BEGIN END</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意:BEGIN 在所有数据读取行之前执行;END在所有数据执行之后执行，</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">[root@bigdata02 myshells]# awk -F : &#x27;&#123;print $1&quot;,&quot;$7&#125;&#x27; data/passwd | sed -e &#x27;1i user,shell&#x27; -e &#x27;$a tianyong,/bin/zhenbang&#x27;</span><br><span class="line">user,shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">bin,/sbin/nologin</span><br><span class="line">daemon,/sbin/nologin</span><br><span class="line">adm,/sbin/nologin</span><br><span class="line">lp,/sbin/nologin</span><br><span class="line">sync,/bin/sync</span><br><span class="line">shutdown,/sbin/shutdown</span><br><span class="line">halt,/sbin/halt</span><br><span class="line">mail,/sbin/nologin</span><br><span class="line">operator,/sbin/nologin</span><br><span class="line">games,/sbin/nologin</span><br><span class="line">ftp,/sbin/nologin</span><br><span class="line">nobody,/sbin/nologin</span><br><span class="line">systemd-network,/sbin/nologin</span><br><span class="line">dbus,/sbin/nologin</span><br><span class="line">polkitd,/sbin/nologin</span><br><span class="line">sshd,/sbin/nologin</span><br><span class="line">postfix,/sbin/nologin</span><br><span class="line">ntp,/sbin/nologin</span><br><span class="line">es,/bin/bash</span><br><span class="line">tianyong,/bin/zhenbang</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# awk -F : &#x27;&#123;print $1&quot;,&quot;$7&#125;&#x27; data/passwd | sed &#x27;1i user,shell&#x27; | sed &#x27;$a tianyong,/bin/zhenbang&#x27;</span><br><span class="line">user,shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">bin,/sbin/nologin</span><br><span class="line">daemon,/sbin/nologin</span><br><span class="line">adm,/sbin/nologin</span><br><span class="line">lp,/sbin/nologin</span><br><span class="line">sync,/bin/sync</span><br><span class="line">shutdown,/sbin/shutdown</span><br><span class="line">halt,/sbin/halt</span><br><span class="line">mail,/sbin/nologin</span><br><span class="line">operator,/sbin/nologin</span><br><span class="line">games,/sbin/nologin</span><br><span class="line">ftp,/sbin/nologin</span><br><span class="line">nobody,/sbin/nologin</span><br><span class="line">systemd-network,/sbin/nologin</span><br><span class="line">dbus,/sbin/nologin</span><br><span class="line">polkitd,/sbin/nologin</span><br><span class="line">sshd,/sbin/nologin</span><br><span class="line">postfix,/sbin/nologin</span><br><span class="line">ntp,/sbin/nologin</span><br><span class="line">es,/bin/bash</span><br><span class="line">tianyong,/bin/zhenbang</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">3)只显示/etc/passwd 的第一列和第七列,以逗号分割,且在所有行前面添加列名user,</span><br><span class="line">shell在最后一行添加&quot;dahaige,/bin/zuishuai&quot;。</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# awk -F: &#x27;BEGIN&#123;print &quot;user,shell&quot;&#125; &#123;print $1&quot;,&quot;$7&#125; END&#123;print &quot;tianyong,/bin/zhenbang&quot;&#125;&#x27; data/passwd  </span><br><span class="line">user,shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">bin,/sbin/nologin</span><br><span class="line">daemon,/sbin/nologin</span><br><span class="line">adm,/sbin/nologin</span><br><span class="line">lp,/sbin/nologin</span><br><span class="line">sync,/bin/sync</span><br><span class="line">shutdown,/sbin/shutdown</span><br><span class="line">halt,/sbin/halt</span><br><span class="line">mail,/sbin/nologin</span><br><span class="line">operator,/sbin/nologin</span><br><span class="line">games,/sbin/nologin</span><br><span class="line">ftp,/sbin/nologin</span><br><span class="line">nobody,/sbin/nologin</span><br><span class="line">systemd-network,/sbin/nologin</span><br><span class="line">dbus,/sbin/nologin</span><br><span class="line">polkitd,/sbin/nologin</span><br><span class="line">sshd,/sbin/nologin</span><br><span class="line">postfix,/sbin/nologin</span><br><span class="line">ntp,/sbin/nologin</span><br><span class="line">es,/bin/bash</span><br><span class="line">tianyong,/bin/zhenbang</span><br></pre></td></tr></table></figure>

<h5 id="v"><a href="#v" class="headerlink" title="-v"></a>-v</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">将passwd 文件中的用户id增加数值1并输出</span><br><span class="line"></span><br><span class="line">&gt;&gt;awk -F: -v i=1 &#x27;&#123;print $3+i&#125;&#x27; data/passwd</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# awk -F: -v i=1 &#x27;&#123;print $3+i&#125;&#x27; data/passwd</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">15</span><br><span class="line">100</span><br><span class="line">193</span><br><span class="line">82</span><br><span class="line">1000</span><br><span class="line">75</span><br><span class="line">90</span><br><span class="line">39</span><br><span class="line">1001</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这里换成&#123;print $3+$i&#125; &#123;print $3+1&#125; &#123;print &quot;$3+1&quot;&#125; &#123;print $[$3+1]&#125; &#123;print &quot;$[$3+1]&quot;&#125;都不行</span><br></pre></td></tr></table></figure>

<h5 id="awk的内置变量"><a href="#awk的内置变量" class="headerlink" title="awk的内置变量"></a>awk的内置变量</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FILENAME	文件名。</span><br><span class="line">NR		已读的记录数。</span><br><span class="line">NF		浏览记录的域的个数(切割后，列的个数)。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">统计 passwd 文件名，每行的行号，每行的列数</span><br><span class="line"></span><br><span class="line">&gt;&gt;awk -F: &#x27;&#123;print FILENAME&quot;,&quot;NR&quot;,&quot;NF&#125;&#x27; data/passwd</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# awk -F: &#x27;&#123;print FILENAME&quot;,&quot;NR&quot;,&quot;NF&#125;&#x27; data/passwd</span><br><span class="line">data/passwd,1,7</span><br><span class="line">data/passwd,2,7</span><br><span class="line">data/passwd,3,7</span><br><span class="line">data/passwd,4,7</span><br><span class="line">data/passwd,5,7</span><br><span class="line">data/passwd,6,7</span><br><span class="line">data/passwd,7,7</span><br><span class="line">data/passwd,8,7</span><br><span class="line">data/passwd,9,7</span><br><span class="line">data/passwd,10,7</span><br><span class="line">data/passwd,11,7</span><br><span class="line">data/passwd,12,7</span><br><span class="line">data/passwd,13,7</span><br><span class="line">data/passwd,14,7</span><br><span class="line">data/passwd,15,7</span><br><span class="line">data/passwd,16,7</span><br><span class="line">data/passwd,17,7</span><br><span class="line">data/passwd,18,7</span><br><span class="line">data/passwd,19,7</span><br><span class="line">data/passwd,20,7</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">切割ip</span><br><span class="line">[root@bigdata01 sbin]# ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.40.128  netmask 255.255.255.0  broadcast 192.168.40.255</span><br><span class="line">        inet6 fe80::8acc:63c2:430d:32a3  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        inet6 fe80::8c3f:dc1c:b22:6454  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        inet6 fe80::3e1c:34f6:4005:5c0a  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:fd:a8:cc  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 37569  bytes 31960869 (30.4 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 13889  bytes 1187881 (1.1 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 1278  bytes 71568 (69.8 KiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 1278  bytes 71568 (69.8 KiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">[root@bigdata01 sbin]# ifconfig ens33 | awk -F &quot; &quot; &#x27;/^.+inet / &#123;print $2&#125;&#x27;</span><br><span class="line">192.168.40.128</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">查询 sed.txt 中空行所在的行号,</span><br><span class="line">[root@bigdata02 myshells]# cat data/seddata.txt </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"></span><br><span class="line">le  le</span><br><span class="line">[root@bigdata02 myshells]# awk &#x27;/^$/ &#123;print NR&#125;&#x27; data/seddata.txt </span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort命令是在Limux里非常有用，它将文件进行排序，并将排序结果标准输出。</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sort (选项) (参数)</span><br><span class="line"></span><br><span class="line">-n 依照数值的大小排序。</span><br><span class="line">-r 以相反的顺序来排序。</span><br><span class="line">-t 设置排序时所用的分隔字符。</span><br><span class="line">-k 指定需要排序的列。</span><br><span class="line"></span><br><span class="line">参数:指定待排序的文件列表</span><br><span class="line"></span><br><span class="line">默认根据第一个字符排序</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;vi sortdata.txt </span><br><span class="line">xz:50:2.3</span><br><span class="line">bb:40:5.4</span><br><span class="line">ss:30:1.6</span><br><span class="line">bd:20:4.2</span><br><span class="line">cls:10:3.5</span><br><span class="line">&gt;&gt;sort -t: -n -r -k 2 data/sortdata.txt</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sort -t: -n -r -k 2 data/sortdata.txt </span><br><span class="line">xz:50:2.3</span><br><span class="line">bb:40:5.4</span><br><span class="line">ss:30:1.6</span><br><span class="line">bd:20:4.2</span><br><span class="line">cls:10:3.5</span><br></pre></td></tr></table></figure>

<h3 id="企业真实面试题"><a href="#企业真实面试题" class="headerlink" title="企业真实面试题"></a>企业真实面试题</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用 Limux 命令查询 fle1 中空行所在的行号</span><br><span class="line">&gt;&gt;awk &#x27;/^$/ &#123;print NR&#125;&#x27;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">问题 2:有文件 chengji.txt 内容如下:</span><br><span class="line">张三 40</span><br><span class="line">李四 50</span><br><span class="line">王五 60</span><br><span class="line">使用 Linux 命令计算第二列的和并输出</span><br><span class="line"></span><br><span class="line">&gt;&gt;[root@bigdata02 myshells]# cat data/chengji.txt | awk -F &quot; &quot; &#x27;&#123;sum+=$2&#125; END&#123;print sum&#125;&#x27;</span><br><span class="line">150</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;temp=$8;getline;print temp&quot;,&quot;$8&#x27;</span><br><span class="line">SUCCEEDED,SUCCEEDED</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">问题1:Shel 脚本里如何检查一个文件是否存在?如果不存在该如何处理?。</span><br><span class="line"></span><br><span class="line">if [ -e file.txt ]</span><br><span class="line">	then</span><br><span class="line">		xx</span><br><span class="line">else </span><br><span class="line">	then</span><br><span class="line">		xxx</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">问题：对文件内数据排序，最后输出总和</span><br><span class="line">&gt;&gt;cat test.txt</span><br><span class="line">2</span><br><span class="line">5</span><br><span class="line">9</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">7</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# sort -n data/test.txt | awk &#x27;&#123;a+=$1;print $1&#125;END&#123;print a&#125;&#x27;</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">9</span><br><span class="line">53</span><br></pre></td></tr></table></figure>

<h4 id="grep的高级使用"><a href="#grep的高级使用" class="headerlink" title="grep的高级使用"></a>grep的高级使用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">要在某个路径下递归查找所有包含特定字符串的文件，可以使用 grep 命令结合一些选项进行操作。grep 是一种强大的文本搜索工具，可以在文件中搜索匹配指定模式的字符串。当与递归搜索选项结合使用时，grep 能够在指定目录及其所有子目录中搜索文件内容。</span><br><span class="line"></span><br><span class="line">-r:或 --recursive 选项告诉 grep 递归地查找指定目录下的所有文件。</span><br><span class="line">-i:忽略大小写。</span><br><span class="line">-l:仅列出包含匹配项的文件名，而不显示匹配行的具体内容。</span><br><span class="line">-n:显示匹配行及其行号。</span><br><span class="line">-v:表示忽略包含指定字符串的数据</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">问题1:请用shell 脚本写出查找当前文件夹(ome)下所有的文本文件内容中包含有字符”shen”的文件名称</span><br><span class="line"></span><br><span class="line">[root@bigdata02 myshells]# grep -r &quot;shen&quot; </span><br><span class="line">data/seddata.txt:dong shen</span><br><span class="line">[root@bigdata02 myshells]# grep -r &quot;shen&quot; | cut -d &quot;:&quot; -f 1</span><br><span class="line">data/seddata.txt</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">常用于查找文件里符合条件的字符串</span><br><span class="line">[root@localhost ~]# cat hello.txt        </span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">hello world!</span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# grep abc hello.txt      </span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line">grep后面跟的这个字符串是可以支持正则表达式的</span><br><span class="line">查询hello.txt中以字母a开头的内容，这样写也是可以的</span><br><span class="line">[root@localhost ~]# grep ^a hello.txt  </span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line">忽略大小写功能</span><br><span class="line">[root@localhost ~]# grep ABC hello.txt   </span><br><span class="line">[root@localhost ~]# grep -i ABC hello.txt  </span><br><span class="line">abc</span><br><span class="line"></span><br><span class="line">查询出来对应字符串带行号</span><br><span class="line">[root@localhost ~]# grep -i ABC -n hello.txt </span><br><span class="line">7:abc</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# ps -ef | grep java</span><br><span class="line">root       2497   2247  0 22:34 pts/1    00:00:00 grep --color=auto java</span><br><span class="line"></span><br><span class="line">显示出这个信息其实说明没有找到java进程信息，下面返回的这一行表示是grep进程本身，这样容易给我们造成错觉，想把它去掉，怎么去掉呢？</span><br><span class="line"></span><br><span class="line">很简单，使用grep加上-v参数再做一次过滤即可，表示忽略包含指定字符串的数据。</span><br><span class="line">[root@localhost ~]# ps -ef | grep java | grep -v grep</span><br></pre></td></tr></table></figure>





<h4 id="Shell-添加一个新组为class1，添加属于这个组的30个用户，用户名的形式为stdxx，其中xx从01-到30-？"><a href="#Shell-添加一个新组为class1，添加属于这个组的30个用户，用户名的形式为stdxx，其中xx从01-到30-？" class="headerlink" title="Shell 添加一个新组为class1，添加属于这个组的30个用户，用户名的形式为stdxx，其中xx从01 到30 ？"></a>Shell 添加一个新组为class1，添加属于这个组的30个用户，用户名的形式为stdxx，其中xx从01 到30 ？</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">要实现这个需求，你可以编写一个 Shell 脚本来首先创建一个名为 class1 的新组，然后循环添加用户名为 std01 到 std30 的用户，并将这些用户分配到 class1 组。下面是一个简单的脚本示例，演示了如何执行这些操作：</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># 创建新组 class1</span><br><span class="line">groupadd class1</span><br><span class="line"></span><br><span class="line"># 循环添加用户 std01 到 std30</span><br><span class="line">for i in $(seq -w 1 30); do</span><br><span class="line">    user=&quot;std$i&quot;</span><br><span class="line">    # 添加用户，并将其加入到 class1 组</span><br><span class="line">    useradd -m -g class1 &quot;$user&quot;</span><br><span class="line">    echo &quot;用户 $user 已创建并添加到组 class1。&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;所有用户已成功创建并添加到组 class1。&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这个脚本的关键点如下：</span><br><span class="line">使用 groupadd class1 命令创建一个新组 class1。</span><br><span class="line">使用 seq -w 1 30 生成从 01 到 30 的数字序列。-w 选项确保序列中的数字被格式化为两位数，即 01, 02, …, 30。</span><br><span class="line">对于序列中的每个数字，构造用户名 stdXX，其中 XX 是当前的数字。</span><br><span class="line">使用 useradd -m -g class1 &quot;$user&quot; 命令添加用户。-m选项表示创建用户的主目录，-g class1选项表示将用户添加到class1组。</span><br><span class="line">打印一条消息确认用户已被创建并添加到组。</span><br><span class="line"></span><br><span class="line">在运行这个脚本之前，请确保你有足够的权限来创建用户和组。在大多数系统上，这意味着你需要以root用户身份执行该脚本，或使用sudo 命令。</span><br><span class="line"></span><br><span class="line">请注意，根据你的系统配置和已存在的用户/组设置，这个脚本可能需要进行适当的调整。例如，如果 class1 组已经存在，groupadd class1 命令将会失败，你可能需要检查组是否存在，然后决定是否需要执行添加组的命令。</span><br></pre></td></tr></table></figure>

<h4 id="获取行首行位几行"><a href="#获取行首行位几行" class="headerlink" title="获取行首行位几行"></a>获取行首行位几行</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">head -n</span><br><span class="line">tail -n</span><br></pre></td></tr></table></figure>

<h4 id="‘-和-“-引号之间有什么区别？"><a href="#‘-和-“-引号之间有什么区别？" class="headerlink" title="‘ 和 “ 引号之间有什么区别？"></a>‘ 和 “ 引号之间有什么区别？</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Bash 使用过程中，经常会用双引号或单引号将字符串括起来，也可以不使用引号来定义字符串变量。</span><br><span class="line"></span><br><span class="line">s=testString	#无引号</span><br><span class="line">s=&#x27;testString&#x27;	#单引号</span><br><span class="line">s=&quot;testString&quot;	#双引号</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">因此字符串变量的定义有三种方式，分别是双引号、单引号和无引号。这三种方式有什么区别呢？单引号和双引号又有什么区别呢？</span><br></pre></td></tr></table></figure>

<h5 id="单引号"><a href="#单引号" class="headerlink" title="单引号"></a>单引号</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">单引号是全引用，被单引号括起的内容不管是常量还是变量都不会发生替换。</span><br><span class="line"></span><br><span class="line">也就是说单引号定义字符串所见即所得，将单引号内的内容输出，看到的是什么就会输出什么。</span><br><span class="line"></span><br><span class="line">var=dablelv</span><br><span class="line">echo &#x27;$var&#x27;</span><br><span class="line">输出：</span><br><span class="line"></span><br><span class="line">$var</span><br></pre></td></tr></table></figure>

<h5 id="双引号"><a href="#双引号" class="headerlink" title="双引号"></a>双引号</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">双引号引用的内容，所见非所得。如果内容中有命令、变量等，会先把变量、命令解析出结果，然后在输出最终内容。双引号是部分引用，被双引号括起的内容常量还是常量，变量则会发生替换，替换成变量内容。</span><br><span class="line"></span><br><span class="line">var=dablelv</span><br><span class="line">echo &quot;$var&quot;</span><br><span class="line">输出：</span><br><span class="line"></span><br><span class="line">dablelv</span><br></pre></td></tr></table></figure>

<h5 id="无引号"><a href="#无引号" class="headerlink" title="无引号"></a>无引号</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">不使用引号定义字符串时，字符串不能包含空白字符（如 Space 或 Tab），需要加引号。一般连续的字符串、数字、路径等可以不加引号。如果内容有命令、变量等，会先把变量、命令解析出结果，然后再输出最终内容。</span><br><span class="line"></span><br><span class="line">str1=&quot;test String&quot;</span><br><span class="line">str2=&#x27;test String&#x27;</span><br><span class="line">str3=test String</span><br><span class="line"></span><br><span class="line">echo $str1</span><br><span class="line">echo $str2</span><br><span class="line">echo $str3</span><br><span class="line">输出：</span><br><span class="line"></span><br><span class="line">test String</span><br><span class="line">test String</span><br><span class="line"></span><br><span class="line">可见，字符串含有空格时不使用引号括起来，将无法正常输出。</span><br></pre></td></tr></table></figure>

<h5 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">字符串常量使用单引号括起来，如果字符串含有变量、命令等使用双引号括起来，不建议不加引号。</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">智汇君</div><div class="post-copyright__author_desc">路漫漫其修远兮，吾将上下而求索！</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://example.com/2025/01/17/%E9%9D%A2%E8%AF%95%20linux%E5%B8%B8%E8%AF%86/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://example.com/2025/01/17/面试 linux常识/')">面试 linux常识</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="/img/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://example.com/2025/01/17/%E9%9D%A2%E8%AF%95%20linux%E5%B8%B8%E8%AF%86/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Tech智汇站</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>面试<span class="tagsPageCount">10</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/12/24/hexo%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA(%E4%B8%80)/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">hexo个人博客搭建(一)</div></div></a></div><div class="next-post pull-right"><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20SHELL%E8%84%9A%E6%9C%AC%E5%BC%80%E5%8F%91/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">面试 SHELL脚本开发</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20ES%E9%9D%A2%E8%AF%951/" title="面试 ES面试1"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-17</div><div class="title">面试 ES面试1</div></div></a></div><div><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20SHELL%E8%84%9A%E6%9C%AC%E5%BC%80%E5%8F%91/" title="面试 SHELL脚本开发"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-17</div><div class="title">面试 SHELL脚本开发</div></div></a></div><div><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20Hadoop%E9%9D%A2%E8%AF%95/" title="面试 Hadoop面试"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-17</div><div class="title">面试 Hadoop面试</div></div></a></div><div><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20hive%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%981/" title="面试 hive常见面试题1"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-17</div><div class="title">面试 hive常见面试题1</div></div></a></div><div><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20hive%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%982/" title="面试 hive常见面试题2"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-17</div><div class="title">面试 hive常见面试题2</div></div></a></div><div><a href="/2025/01/17/%E9%9D%A2%E8%AF%95%20%E6%8A%80%E8%83%BD%E8%A6%81%E6%B1%82/" title="面试 技能要求"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-01-17</div><div class="title">面试 技能要求</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/08/24/64e6ce9c507bb.png" alt="status"/></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">这有关于<b style="color:#fff">产品、设计、开发</b>相关的问题和看法，还有<b style="color:#fff">文章翻译</b>和<b style="color:#fff">分享</b>。</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">相信你可以在这里找到对你有用的<b style="color:#fff">知识</b>和<b style="color:#fff">教程</b>。</div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/about"><h1 class="author-info__name">智汇君</h1><div class="author-info__desc">路漫漫其修远兮，吾将上下而求索！</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="/contact/" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来看我的博客鸭~</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(/img/博客微信公众号图片.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#linux%E5%B8%B8%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">linux常识</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%8F%E4%B8%AA%E8%84%9A%E6%9C%AC%E5%BC%80%E5%A7%8B%E7%9A%84-bin-sh-%E6%88%96-bin-bash-%E8%A1%A8%E7%A4%BA%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D"><span class="toc-number">1.1.</span> <span class="toc-text">每个脚本开始的 #!&#x2F;bin&#x2F;sh 或 #!&#x2F;bin&#x2F;bash 表示什么意思 ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%B0%83%E8%AF%95-bash-%E8%84%9A%E6%9C%AC"><span class="toc-number">1.2.</span> <span class="toc-text">如何调试 bash 脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-x-%E9%80%89%E9%A1%B9"><span class="toc-number">1.2.1.</span> <span class="toc-text">使用 -x 选项</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-set-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.2.</span> <span class="toc-text">设置 set 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%90%E6%AD%A5%E8%B0%83%E8%AF%95-v"><span class="toc-number">1.2.3.</span> <span class="toc-text">逐步调试 -v</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-trap-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.4.</span> <span class="toc-text">使用 trap 命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">1.3.</span> <span class="toc-text">变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%90%91%E8%BF%9E%E6%8E%A5%E4%B8%A4%E4%B8%AA%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.3.1.</span> <span class="toc-text">如何向连接两个字符串 ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0%E7%9B%B8%E5%8A%A0-%E6%9C%89%E7%82%B9%E7%89%B9%E5%88%AB"><span class="toc-number">1.3.2.</span> <span class="toc-text">如何进行两个整数相加 ?  有点特别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E2%80%98-%E5%92%8C-%E2%80%9C-%E5%BC%95%E5%8F%B7%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.3.</span> <span class="toc-text">‘ 和 “ 引号有什么区别 ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%8F%AA%E7%94%A8-echo-%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%98%E9%87%8F%E7%9A%84%E4%B8%80%E9%83%A8%E5%88%86"><span class="toc-number">1.3.4.</span> <span class="toc-text">如何只用 echo 命令获取字符串变量的一部分 ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%89%93%E5%8D%B0%E5%8F%98%E9%87%8F%E7%9A%84%E6%9C%80%E5%90%8E-5-%E4%B8%AA%E5%AD%97%E7%AC%A6"><span class="toc-number">1.3.5.</span> <span class="toc-text">如何打印变量的最后 5 个字符 ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%8F%98%E9%87%8F%E9%95%BF%E5%BA%A6"><span class="toc-number">1.3.6.</span> <span class="toc-text">如何获取变量长度 ?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BB%85%E7%94%A8-echo-%E5%91%BD%E4%BB%A4%E6%9B%BF%E6%8D%A2%E9%83%A8%E5%88%86%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%9F"><span class="toc-number">1.3.7.</span> <span class="toc-text">如何仅用 echo 命令替换部分字符串？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.8.</span> <span class="toc-text">数组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-number">1.4.</span> <span class="toc-text">shell传递参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%9C%A8%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C%E8%84%9A%E6%9C%AC"><span class="toc-number">1.5.</span> <span class="toc-text">如何在后台运行脚本 ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.6.</span> <span class="toc-text">重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%92%8C-%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.6.1.</span> <span class="toc-text">&gt; 和&gt;&gt; 输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.6.2.</span> <span class="toc-text">&lt; 输入重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA%E5%92%8C%E6%A0%87%E5%87%86%E9%94%99%E8%AF%AF%E6%B5%81%E5%88%B0-log-txt-%E6%96%87%E4%BB%B6"><span class="toc-number">1.6.3.</span> <span class="toc-text">重定向标准输出和标准错误流到 log.txt 文件 ?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%AE%A9-Shell-%E5%B0%B1%E8%84%9A%E6%9C%AC%E5%BE%97%E5%88%B0%E6%9D%A5%E8%87%AA%E7%BB%88%E7%AB%AF%E7%9A%84%E8%BE%93%E5%85%A5"><span class="toc-number">1.7.</span> <span class="toc-text">如何让 Shell 就脚本得到来自终端的输入?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="toc-number">1.7.1.</span> <span class="toc-text">read读取控制台输入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AE%A1%E9%81%93%E6%88%96%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.7.2.</span> <span class="toc-text">使用管道或重定向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E7%BB%99%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2-variable-%E2%80%9DUser-123-321-home-dir%E2%80%9D%EF%BC%8C%E5%A6%82%E4%BD%95%E5%8F%AA%E7%94%A8-echo-%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96-home-dir"><span class="toc-number">1.8.</span> <span class="toc-text">如果给定字符串 variable&#x3D;”User:123:321:&#x2F;home&#x2F;dir”，如何只用 echo 命令获取 home_dir ?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BB%8E%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E8%8E%B7%E5%8F%96-%E2%80%9CUser%E2%80%9D"><span class="toc-number">1.8.1.</span> <span class="toc-text">如何从上面的字符串中获取 “User” ?</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%97%E5%87%BA%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%AD%97%E6%AF%8D%E4%B8%BA-a-%E6%88%96-b-%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%9F"><span class="toc-number">1.9.</span> <span class="toc-text">如何列出第二个字母为 a 或 b 的文件？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tr%E5%91%BD%E4%BB%A4"><span class="toc-number">1.10.</span> <span class="toc-text">tr命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#tr-%E5%A6%82%E4%BD%95%E4%BB%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E7%A9%BA%E6%A0%BC%EF%BC%9F"><span class="toc-number">1.10.1.</span> <span class="toc-text">tr 如何从字符串中删除所有空格？</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-b-%E5%92%8C-a-eq-b-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">1.11.</span> <span class="toc-text">[ $a &#x3D;&#x3D; $b ] 和 [ $a -eq $b ] 有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8C"><span class="toc-number">1.12.</span> <span class="toc-text">&#x3D;和&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%92%8C-%EF%BC%9F"><span class="toc-number">1.13.</span> <span class="toc-text">[]和[[]]？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.13.0.1.</span> <span class="toc-text">比较操作符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E6%95%B4%E6%95%B0%E6%AF%94%E8%BE%83%E7%AC%A6"><span class="toc-number">1.13.0.2.</span> <span class="toc-text">对整数比较符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-number">1.13.0.3.</span> <span class="toc-text">布尔操作符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.13.0.4.</span> <span class="toc-text">聚合表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="toc-number">1.13.0.5.</span> <span class="toc-text">模式匹配</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.13.0.6.</span> <span class="toc-text">正则表达式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E8%AF%8D%E5%88%86%E5%89%B2"><span class="toc-number">1.13.0.7.</span> <span class="toc-text">单词分割</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%B8%AD%E6%8B%AC%E5%8F%B7"><span class="toc-number">1.13.0.8.</span> <span class="toc-text">单中括号 []</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%8C%E4%B8%AD%E6%8B%AC%E5%8F%B7"><span class="toc-number">1.13.0.9.</span> <span class="toc-text">双中括号 [[]]</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.13.0.10.</span> <span class="toc-text">使用建议</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#string-abc-%E5%92%8C-string-%E2%80%9Cabc-%E2%80%9D-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB"><span class="toc-number">1.14.</span> <span class="toc-text">[[ $string &#x3D;&#x3D; abc* ]] 和 [[ $string &#x3D;&#x3D; “abc*” ]] 有什么区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8-shell-%E8%84%9A%E6%9C%AC%E4%B8%AD%EF%BC%8C%E5%A6%82%E4%BD%95%E6%B5%8B%E8%AF%95%E6%96%87%E4%BB%B6"><span class="toc-number">1.15.</span> <span class="toc-text">在 shell 脚本中，如何测试文件 ?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A1%AC%E9%93%BE%E6%8E%A5%E5%92%8C%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-number">1.16.</span> <span class="toc-text">硬链接和软链接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#date"><span class="toc-number">1.17.</span> <span class="toc-text">date</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E5%BD%93%E5%89%8D%E6%97%B6%E9%97%B4"><span class="toc-number">1.17.1.</span> <span class="toc-text">获取系统当前时间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">1.17.2.</span> <span class="toc-text">格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">1.17.3.</span> <span class="toc-text">时间戳</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E6%97%B6%E9%97%B4%E7%9A%84%E6%97%B6%E9%97%B4%E6%88%B3"><span class="toc-number">1.17.4.</span> <span class="toc-text">获取指定时间的时间戳</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#etc-profile%E5%92%8C-etc-profile-d"><span class="toc-number">1.18.</span> <span class="toc-text">&#x2F;etc&#x2F;profile和&#x2F;etc&#x2F;profile.d</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ll-grep-hudi"><span class="toc-number">1.19.</span> <span class="toc-text">ll|grep hudi</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#netstat-anp-grep-9083"><span class="toc-number">1.20.</span> <span class="toc-text">netstat -anp|grep 9083</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ls-al"><span class="toc-number">1.21.</span> <span class="toc-text">ls -al</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useradd"><span class="toc-number">1.22.</span> <span class="toc-text">useradd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84-groupadd"><span class="toc-number">1.23.</span> <span class="toc-text">用户组 groupadd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chown"><span class="toc-number">1.24.</span> <span class="toc-text">chown</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#chgrp"><span class="toc-number">1.25.</span> <span class="toc-text">chgrp</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%83%E9%99%90-chmod"><span class="toc-number">1.26.</span> <span class="toc-text">权限 chmod</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ps-ef-grep-runJar"><span class="toc-number">1.27.</span> <span class="toc-text">ps -ef|grep runJar</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jstat-gcutil-PID-1000"><span class="toc-number">1.28.</span> <span class="toc-text">jstat -gcutil PID 1000</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ip-addr-ifconfig"><span class="toc-number">1.29.</span> <span class="toc-text">ip addr|ifconfig</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#touch-cat-more"><span class="toc-number">1.30.</span> <span class="toc-text">touch cat more</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tail-head"><span class="toc-number">1.31.</span> <span class="toc-text">tail head</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#echo"><span class="toc-number">1.32.</span> <span class="toc-text">echo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#history"><span class="toc-number">1.33.</span> <span class="toc-text">history</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#df"><span class="toc-number">1.34.</span> <span class="toc-text">df</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vi"><span class="toc-number">1.35.</span> <span class="toc-text">vi</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#wc"><span class="toc-number">1.36.</span> <span class="toc-text">wc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#uniq"><span class="toc-number">1.37.</span> <span class="toc-text">uniq</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ps"><span class="toc-number">1.38.</span> <span class="toc-text">ps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#netstat"><span class="toc-number">1.39.</span> <span class="toc-text">netstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#jps"><span class="toc-number">1.40.</span> <span class="toc-text">jps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#top"><span class="toc-number">1.41.</span> <span class="toc-text">top</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#free"><span class="toc-number">1.42.</span> <span class="toc-text">free</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kill"><span class="toc-number">1.43.</span> <span class="toc-text">kill</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%8B%E7%BC%A9-%E8%A7%A3%E5%8E%8B"><span class="toc-number">1.44.</span> <span class="toc-text">压缩 解压</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#which-whereis-find-locate"><span class="toc-number">1.45.</span> <span class="toc-text">which | whereis | find | locate</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#which"><span class="toc-number">1.45.1.</span> <span class="toc-text">which</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#whereis"><span class="toc-number">1.45.2.</span> <span class="toc-text">whereis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#find"><span class="toc-number">1.45.3.</span> <span class="toc-text">find</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%90%8D%E7%A7%B0%E4%B8%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.45.3.1.</span> <span class="toc-text">以名称为条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E6%9D%83%E9%99%90%E4%B8%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.45.3.2.</span> <span class="toc-text">以权限为条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E4%B8%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.45.3.3.</span> <span class="toc-text">以文件类型为条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F%E4%B8%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.45.3.4.</span> <span class="toc-text">以文件大小为条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E5%BD%92%E5%B1%9E%E4%B8%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.45.3.5.</span> <span class="toc-text">以归属为条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E6%97%B6%E9%97%B4%E4%B8%BA%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.45.3.6.</span> <span class="toc-text">以时间为条件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell-%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-number">1.46.</span> <span class="toc-text">Shell 文件包含</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#locate"><span class="toc-number">1.47.</span> <span class="toc-text">locate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.48.</span> <span class="toc-text">文件系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.49.</span> <span class="toc-text">shell脚本系统学习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E6%A6%82%E8%BF%B0-%E4%BA%86%E8%A7%A3"><span class="toc-number">1.49.1.</span> <span class="toc-text">shell概述 了解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E8%A7%A3%E9%87%8A%E5%99%A8-%E4%BA%86%E8%A7%A3"><span class="toc-number">1.49.2.</span> <span class="toc-text">shell解释器 了解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E8%84%9A%E6%9C%AC%E5%85%A5%E9%97%A8"><span class="toc-number">1.49.3.</span> <span class="toc-text">shell脚本入门</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#hello-world"><span class="toc-number">1.49.3.1.</span> <span class="toc-text">hello world</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%91%BD%E4%BB%A4%E5%A4%84%E7%90%86"><span class="toc-number">1.49.3.2.</span> <span class="toc-text">多命令处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.</span> <span class="toc-text">shell中的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.1.</span> <span class="toc-text">系统变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.2.</span> <span class="toc-text">自定义变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.2.1.</span> <span class="toc-text">定义变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%92%A4%E9%94%80%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.2.2.</span> <span class="toc-text">撤销变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E9%9D%99%E6%80%81%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.2.3.</span> <span class="toc-text">声明静态变量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%90%8D%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99"><span class="toc-number">1.49.4.2.4.</span> <span class="toc-text">变量名定义规则</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%E4%B8%BA%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.2.5.</span> <span class="toc-text">局部变量提升为全局变量</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.4.3.</span> <span class="toc-text">特殊变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#n"><span class="toc-number">1.49.4.3.1.</span> <span class="toc-text">$n</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-number">1.49.4.3.2.</span> <span class="toc-text">$#</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%92%8C-1"><span class="toc-number">1.49.4.3.3.</span> <span class="toc-text">$*和$@</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-1"><span class="toc-number">1.49.4.3.4.</span> <span class="toc-text">$?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%81"><span class="toc-number">1.49.4.3.5.</span> <span class="toc-text">$！</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%9F%EF%BC%9F"><span class="toc-number">1.49.4.3.6.</span> <span class="toc-text">$？？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-2"><span class="toc-number">1.49.4.3.7.</span> <span class="toc-text">$$</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.49.5.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A0"><span class="toc-number">1.49.5.1.</span> <span class="toc-text">加</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%98"><span class="toc-number">1.49.5.2.</span> <span class="toc-text">乘</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.49.6.</span> <span class="toc-text">条件判断</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.49.6.1.</span> <span class="toc-text">基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%88%A4%E6%96%AD%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.49.6.2.</span> <span class="toc-text">常用判断条件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E6%95%B4%E6%95%B0%E6%AF%94%E8%BE%83"><span class="toc-number">1.49.6.2.1.</span> <span class="toc-text">两个整数比较</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E8%BF%9B%E8%A1%8C%E5%88%A4%E6%96%AD"><span class="toc-number">1.49.6.2.2.</span> <span class="toc-text">按照文件权限进行判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E8%BF%9B%E8%A1%8C%E5%88%A4%E6%96%AD"><span class="toc-number">1.49.6.2.3.</span> <span class="toc-text">按照文件类型进行判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%98%AF%E5%90%A6%E4%B8%BA%E7%A9%BA"><span class="toc-number">1.49.6.2.4.</span> <span class="toc-text">判断字符串是否为空</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-number">1.49.6.3.</span> <span class="toc-text">多条件判断</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E9%87%8D%E7%82%B9"><span class="toc-number">1.49.7.</span> <span class="toc-text">流程控制 重点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if%E5%88%A4%E6%96%AD"><span class="toc-number">1.49.7.1.</span> <span class="toc-text">if判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#case%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.49.7.2.</span> <span class="toc-text">case语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.49.7.3.</span> <span class="toc-text">for循环</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#for"><span class="toc-number">1.49.7.3.1.</span> <span class="toc-text">for</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#for-in"><span class="toc-number">1.49.7.3.2.</span> <span class="toc-text">for in $* $@</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.49.7.4.</span> <span class="toc-text">while循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#until%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.49.7.5.</span> <span class="toc-text">until循环</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0-%E4%BA%86%E8%A7%A3"><span class="toc-number">1.49.8.</span> <span class="toc-text">函数 了解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">1.49.8.1.</span> <span class="toc-text">系统函数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#basename%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.49.8.1.1.</span> <span class="toc-text">basename基本语法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dirname%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">1.49.8.1.2.</span> <span class="toc-text">dirname基本语法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">1.49.8.2.</span> <span class="toc-text">自定义函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E5%B7%A5%E5%85%B7-%E9%87%8D%E7%82%B9"><span class="toc-number">1.49.9.</span> <span class="toc-text">shell工具 重点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#cut"><span class="toc-number">1.49.9.1.</span> <span class="toc-text">cut</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#cut%E7%BB%93%E5%90%88-grep"><span class="toc-number">1.49.9.1.1.</span> <span class="toc-text">cut结合| grep</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%97%E5%87%BA%E4%BB%A5-ab-%E6%88%96-xy-%E5%BC%80%E5%A4%B4%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D%EF%BC%9F"><span class="toc-number">1.49.9.1.1.1.</span> <span class="toc-text">如何列出以 ab 或 xy 开头的用户名？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sed"><span class="toc-number">1.49.9.2.</span> <span class="toc-text">sed</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0"><span class="toc-number">1.49.9.2.1.</span> <span class="toc-text">增加</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">1.49.9.2.2.</span> <span class="toc-text">删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2"><span class="toc-number">1.49.9.2.3.</span> <span class="toc-text">替换</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#i-%E4%BF%AE%E6%94%B9%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">1.49.9.2.4.</span> <span class="toc-text">-i 修改源文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%9A%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.49.9.2.5.</span> <span class="toc-text">多语句</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#awk"><span class="toc-number">1.49.9.3.</span> <span class="toc-text">awk</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E6%AF%8F%E4%B8%80%E8%A1%8C%E7%9A%84%E7%AC%AC%E4%B8%89%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">1.49.9.3.1.</span> <span class="toc-text">获取一个文件每一行的第三个元素 ?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%81%87%E5%A6%82%E6%96%87%E4%BB%B6%E4%B8%AD%E6%9F%90%E8%A1%8C%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E6%98%AF-FIND%EF%BC%8C%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%85%83%E7%B4%A0"><span class="toc-number">1.49.9.3.2.</span> <span class="toc-text">假如文件中某行第一个元素是 FIND，如何获取第二个元素</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8-awk-%E5%88%97%E5%87%BA-UID-%E5%B0%8F%E4%BA%8E-100-%E7%9A%84%E7%94%A8%E6%88%B7"><span class="toc-number">1.49.9.3.3.</span> <span class="toc-text">如何使用 awk 列出 UID 小于 100 的用户 ?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#BEGIN-END"><span class="toc-number">1.49.9.3.4.</span> <span class="toc-text">BEGIN END</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v"><span class="toc-number">1.49.9.3.5.</span> <span class="toc-text">-v</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#awk%E7%9A%84%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-number">1.49.9.3.6.</span> <span class="toc-text">awk的内置变量</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort"><span class="toc-number">1.49.9.4.</span> <span class="toc-text">sort</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%81%E4%B8%9A%E7%9C%9F%E5%AE%9E%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.49.10.</span> <span class="toc-text">企业真实面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#grep%E7%9A%84%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8"><span class="toc-number">1.49.10.1.</span> <span class="toc-text">grep的高级使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell-%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E6%96%B0%E7%BB%84%E4%B8%BAclass1%EF%BC%8C%E6%B7%BB%E5%8A%A0%E5%B1%9E%E4%BA%8E%E8%BF%99%E4%B8%AA%E7%BB%84%E7%9A%8430%E4%B8%AA%E7%94%A8%E6%88%B7%EF%BC%8C%E7%94%A8%E6%88%B7%E5%90%8D%E7%9A%84%E5%BD%A2%E5%BC%8F%E4%B8%BAstdxx%EF%BC%8C%E5%85%B6%E4%B8%ADxx%E4%BB%8E01-%E5%88%B030-%EF%BC%9F"><span class="toc-number">1.49.10.2.</span> <span class="toc-text">Shell 添加一个新组为class1，添加属于这个组的30个用户，用户名的形式为stdxx，其中xx从01 到30 ？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E8%A1%8C%E9%A6%96%E8%A1%8C%E4%BD%8D%E5%87%A0%E8%A1%8C"><span class="toc-number">1.49.10.3.</span> <span class="toc-text">获取行首行位几行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%98-%E5%92%8C-%E2%80%9C-%E5%BC%95%E5%8F%B7%E4%B9%8B%E9%97%B4%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%EF%BC%9F"><span class="toc-number">1.49.10.4.</span> <span class="toc-text">‘ 和 “ 引号之间有什么区别？</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E5%BC%95%E5%8F%B7"><span class="toc-number">1.49.10.4.1.</span> <span class="toc-text">单引号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%8C%E5%BC%95%E5%8F%B7"><span class="toc-number">1.49.10.4.2.</span> <span class="toc-text">双引号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A0%E5%BC%95%E5%8F%B7"><span class="toc-number">1.49.10.4.3.</span> <span class="toc-text">无引号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BB%BA%E8%AE%AE"><span class="toc-number">1.49.10.4.4.</span> <span class="toc-text">建议</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/07/14/python%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95%E7%A7%AF%E7%B4%AF/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2025/07/14/python%E5%B8%B8%E7%94%A8%E7%94%A8%E6%B3%95%E7%A7%AF%E7%B4%AF/" title="无题">无题</a><time datetime="2025-07-14T08:25:16.017Z" title="发表于 2025-07-14 16:25:16">2025-07-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/11/%E9%9D%A2%E8%AF%95%20Hbase/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2025/07/11/%E9%9D%A2%E8%AF%95%20Hbase/" title="无题">无题</a><time datetime="2025-07-11T09:24:44.656Z" title="发表于 2025-07-11 17:24:44">2025-07-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/02/%E5%A4%A7%E6%95%B0%E6%8D%AE-hive/" title="无题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2025/07/02/%E5%A4%A7%E6%95%B0%E6%8D%AE-hive/" title="无题">无题</a><time datetime="2025-07-02T10:28:32.791Z" title="发表于 2025-07-02 18:28:32">2025-07-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/17/Hudi%202022%E9%BB%91%E9%A9%AC%E6%95%B0%E6%8D%AE%E6%B9%96%E6%9E%B6%E6%9E%84%E5%BC%80%E5%8F%91Hudi-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E7%AF%87%201/" title="2022黑马数据湖架构开发Hudi"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2022黑马数据湖架构开发Hudi"/></a><div class="content"><a class="title" href="/2025/01/17/Hudi%202022%E9%BB%91%E9%A9%AC%E6%95%B0%E6%8D%AE%E6%B9%96%E6%9E%B6%E6%9E%84%E5%BC%80%E5%8F%91Hudi-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E7%AF%87%201/" title="2022黑马数据湖架构开发Hudi">2022黑马数据湖架构开发Hudi</a><time datetime="2025-01-17T09:35:02.000Z" title="发表于 2025-01-17 17:35:02">2025-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/17/Hudi%202022%E9%BB%91%E9%A9%AC%E6%95%B0%E6%8D%AE%E6%B9%96%E6%9E%B6%E6%9E%84%E5%BC%80%E5%8F%91Hudi-%E5%BA%94%E7%94%A8%E8%BF%9B%E9%98%B6%E7%AF%87%20spark%E9%9B%86%E6%88%90%201/" title="2022黑马数据湖架构开发Hudi-应用进阶篇 1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2022黑马数据湖架构开发Hudi-应用进阶篇 1"/></a><div class="content"><a class="title" href="/2025/01/17/Hudi%202022%E9%BB%91%E9%A9%AC%E6%95%B0%E6%8D%AE%E6%B9%96%E6%9E%B6%E6%9E%84%E5%BC%80%E5%8F%91Hudi-%E5%BA%94%E7%94%A8%E8%BF%9B%E9%98%B6%E7%AF%87%20spark%E9%9B%86%E6%88%90%201/" title="2022黑马数据湖架构开发Hudi-应用进阶篇 1">2022黑马数据湖架构开发Hudi-应用进阶篇 1</a><time datetime="2025-01-17T09:35:02.000Z" title="发表于 2025-01-17 17:35:02">2025-01-17</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 - 2025 By <a class="footer-bar-link" href="/" title="智汇君" target="_blank">智汇君</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">98</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">14</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">40</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://video-b2g.pages.dev/" title="视频解析"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/视频.png" alt="视频解析"/><span class="back-menu-item-text">视频解析</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://md5-uir.pages.dev/" title="md5值解密"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/MD5.png" alt="md5值解密"/><span class="back-menu-item-text">md5值解密</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://screencheck.pages.dev/#welcome" title="屏幕坏点检查"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/屏幕外观.png" alt="屏幕坏点检查"/><span class="back-menu-item-text">屏幕坏点检查</span></a><a class="back-menu-item" target="_blank" rel="noopener" href="https://htmleditor-9lo.pages.dev/" title="在线html编辑器"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/html编辑器.png" alt="在线html编辑器"/><span class="back-menu-item-text">在线html编辑器</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">博客</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://ttyong-github-io.pages.dev/" title="旧博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/博客.png" alt="旧博客"/><span class="back-menu-item-text">旧博客</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Git/" style="font-size: 0.88rem;">Git<sup>1</sup></a><a href="/tags/GitHub/" style="font-size: 0.88rem;">GitHub<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 0.88rem;">Hexo<sup>1</sup></a><a href="/tags/NodeJs/" style="font-size: 0.88rem;">NodeJs<sup>1</sup></a><a href="/tags/git/" style="font-size: 0.88rem;">git<sup>3</sup></a><a href="/tags/github/" style="font-size: 0.88rem;">github<sup>1</sup></a><a href="/tags/idea/" style="font-size: 0.88rem;">idea<sup>1</sup></a><a href="/tags/%E5%85%AC%E8%80%83%E6%9D%A8%E8%80%81%E5%B8%88/" style="font-size: 0.88rem;">公考杨老师<sup>10</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem;">博客<sup>1</sup></a><a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/" style="font-size: 0.88rem;">大数据<sup>31</sup></a><a href="/tags/%E5%AE%89%E7%9F%A5%E9%B1%BC%E4%B8%BB%E9%A2%98/" style="font-size: 0.88rem;">安知鱼主题<sup>1</sup></a><a href="/tags/%E5%BB%96%E9%9B%AA%E5%B3%B0/" style="font-size: 0.88rem;">廖雪峰<sup>15</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 0.88rem;">计算机网络<sup>1</sup></a><a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 0.88rem;">面试<sup>10</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("24/12/2024 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2024 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 智汇君 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("24/12/2024 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script src="/js/anzhiyu/right_click_menu.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script async src="https://at.alicdn.com/t/c/font_4792307_02gxbpyxcpwp.js?spm=a313x.manage_type_myprojects.i1.10.56323a81KZGFDE&amp;file=font_4792307_02gxbpyxcpwp.js# 阿里图标symbol 引用链接，主题会进行加载 symbol 引用"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>